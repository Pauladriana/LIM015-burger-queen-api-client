(this["webpackJsonpburguer-queen"]=this["webpackJsonpburguer-queen"]||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(56),s=n.n(c),i=n(2),o=n(8),l=n(11),d=n(10),u=n.n(d),j=n(22),b=n(7),m=n(14),O=n(40),h=n.n(O),f=n(42),p=n.n(f),x=n(6),v=(n(93),function(){var e=function(e,t){var n={"Content-Type":"application/json"},a=new AbortController;return t.signal=a.signal,t.method=t.method||"GET",t.headers=t.headers?Object(m.a)(Object(m.a)({},n),t.headers):n,t.body=JSON.stringify(t.body)||!1,t.body||delete t.body,setTimeout((function(){return a.abort()}),2e4),fetch(e,t).then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=4;break}e.t0=t.json(),e.next=12;break;case 4:return e.t1=Promise,e.next=7,t.json();case 7:e.t2=e.sent.message,e.t3=t.status,e.t4=t.statusText,e.t5={err:!0,message:e.t2,status:e.t3,statusText:e.t4},e.t0=e.t1.reject.call(e.t1,e.t5);case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return e}))};return{get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(t,n)},post:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="POST",e(t,n)},put:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="PUT",e(t,n)},del:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="DELETE",e(t,n)}}}),g=v().get,N="https://bq-lab-2021.herokuapp.com/",C=function(e,t){return g("".concat(N).concat(e,"?limit=0"),{headers:{Authorization:"Bearer ".concat(t)}})},w=v().post,y="https://bq-lab-2021.herokuapp.com/",k=new x.a,S=function(){var e=Object(j.a)(u.a.mark((function e(t,n,a){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,w("".concat(y,"auth"),{body:t});case 4:if(r=e.sent,n(!1),!r.err||"Invalid password"!==r.message){e.next=8;break}return e.abrupt("return",a({title:"Contrase\xf1a incorrecta.",body:"Int\xe9ntelo nuevamente"}));case 8:if(!r.err||"User doesn't exists"!==r.message){e.next=10;break}return e.abrupt("return",a({title:"Usuario no registrado.",body:"Int\xe9ntelo nuevamente"}));case 10:if(!r.err){e.next=12;break}return e.abrupt("return",a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."}));case 12:return a(null),k.remove("token",{path:"/"}),k.set("token",r.token,{path:"/"}),e.next=17,s="users/".concat(t.email),i=r.token,g("".concat(N).concat(s),{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){return e})).catch((function(e){return console.info(e)}));case 17:c=e.sent,console.log(r,c),c._id?(k.remove("userLogged",{path:"/"}),k.set("userLogged",c,{path:"/"}),c&&c.roles.admin?window.location.hash="#/admin/users":c&&"cocinera"===c.roles.name?window.location.hash="#/chef/pendingorders":c&&"mesera"===c.roles.name?window.location.hash="#/meserx/neworder":window.location.hash="#/login"):a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),n(!1),a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."});case 26:case"end":return e.stop()}var s,i}),e,null,[[1,22]])})));return function(t,n,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(u.a.mark((function e(t,n,a,r){var c,s,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),c=t.name,s=t.type,i=t.price,o=t.image,e.next=4,w("".concat(y).concat(r),{headers:{Authorization:"Bearer ".concat(k.get("token"))},body:{name:c,type:s,price:Number(i),image:o}});case 4:if(l=e.sent,n(!1),!l._id){e.next=9;break}return console.log(l),e.abrupt("return",a({title:"Producto creado exitosamente."}));case 9:return e.abrupt("return",a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."}));case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),L=function(e,t,n,a){var r=e.email,c=e.password,s=e.roles,i=k.get("token");t(!0),w("".concat(y).concat(a),{headers:{Authorization:"Bearer ".concat(i)},body:{email:r,password:c,roles:s}}).then((function(a){return t(!1),console.log(a),a._id?n({title:"Usuario creado exitosamente"}):a.err&&a.message==="User with email: ".concat(e.email," already exists")?n({title:"Usuario con email: ".concat(e.email," ya se encuentra registrado.")}):n({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))},E=n(0),F=new x.a,P=function(){F.remove("userLogged",{path:"/"}),F.remove("token",{path:"/"}),window.location.href="#/login"},B=function(){return Object(E.jsx)("h3",{"aria-label":"notFound",children:"Not found"})},I=new x.a,_=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)("password"),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(a.useState)({email:"",password:""}),O=Object(i.a)(d,2),f=O[0],x=O[1],v=Object(a.useState)({emailMsg:"",passwordMsg:""}),g=Object(i.a)(v,2),N=g[0],C=g[1],w=function(e){x(Object(m.a)(Object(m.a)({},f),{},Object(b.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),f.email&&f.password){e.next=3;break}return e.abrupt("return",n({title:"No ingres\xf3 correo o contrase\xf1a.",body:"Int\xe9ntelo nuevamente"}));case 3:return e.next=5,S(f,t,n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I.get("userLogged")&&(I.get("userLogged").roles.admin?window.location.href="#/admin/users":"cocinera"===I.get("userLogged").roles.name?window.location.href="#/chef/pendingorders":window.location.href="#/meserx/neworder")}),[]),Object(E.jsxs)("div",{className:"home",children:[Object(E.jsxs)("div",{className:"navContainer",children:[Object(E.jsx)(o.c,{to:"/","aria-label":"navlogo",className:"navlogo",children:"BQ"}),Object(E.jsxs)("nav",{className:"nav",children:[Object(E.jsx)(o.c,{to:"/",activeClassName:"active",className:"navlink",children:"Inicio"}),Object(E.jsx)("div",{className:"navLine"}),Object(E.jsx)(o.c,{to:"/login",activeClassName:"active",className:"navlink",children:"Iniciar Sesi\xf3n"})]})]}),Object(E.jsx)("div",{"aria-label":"login",className:"login-container",children:Object(E.jsxs)("div",{className:"login-formContainer",children:[Object(E.jsx)("p",{role:"heading","aria-level":"1",className:"login-title",children:"Iniciar Sesi\xf3n"}),Object(E.jsxs)("form",{"aria-label":"form",className:"login-form",onSubmit:y,children:[Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{"aria-label":"email",htmlFor:"email",className:"form-label",children:" Correo: "}),Object(E.jsx)("input",{"aria-label":"emailInput",type:"text",id:"email",className:"form-input",name:"email",value:f.email,onChange:function(e){w(e),function(e,t){!1===/^\S+@\S+\.\S+$/.test(e)?t({emailMsg:"La estructura es example@correo.com",passwordMsg:""}):t({emailMsg:"",passwordMsg:""})}(f.email,C)}}),Object(E.jsx)("p",{className:"goEmail formValidation",children:N.emailMsg})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{"aria-label":"password",htmlFor:"password",className:"form-label",children:"Contrase\xf1a:"}),Object(E.jsx)("input",{"aria-label":"passwordInput",type:s,className:"form-input",name:"password",id:"password",onChange:function(e){w(e),function(e,t){!1===/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[.!@#&()\u2013[{}\]:;',?/*~$^+=<>]).{8,}$/.test(e)?t({emailMsg:"",passwordMsg:"La contrase\xf1a debe contener al menos 8 d\xedgitos entre may\xfasculas, n\xfameros y car\xe1cteres especiales."}):t({emailMsg:"",passwordMsg:""})}(f.password,C)}}),"password"===s?Object(E.jsx)(h.a,{onClick:function(){return l("text")},"aria-label":"iconOpen",className:"login-eye-icon"}):Object(E.jsx)(p.a,{onClick:function(){return l("password")},"aria-label":"iconClose",className:"login-eye-icon"}),Object(E.jsx)("p",{className:"goPassword formValidation",children:N.passwordMsg})]}),Object(E.jsxs)("button",{"aria-label":"iniciarSesion",className:"login-formButton",type:"submit",children:["Iniciar Sesi\xf3n"," "]})]})]})})]})},A=n(43),U=n.n(A),z=n(81),D=n.n(z),T=n(82),q=n.n(T),R=n(44),H=n.n(R),Q=(n(39),n(79)),$=n.n(Q),G=n(77),V=n.n(G),W=new x.a;var J=function(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1],l=W.get("userLogged");return Object(a.useEffect)((function(){var e=!1;if(l)return C("users",W.get("token")).then((function(t){e||s(t)})),function(){e=!0};window.location.href="#/"}),[]),Object(E.jsx)("div",{"aria-label":"users",className:"container",children:W.get("userLogged").roles.admin?Object(E.jsxs)("div",{className:"optionContent",children:[Object(E.jsx)("div",{className:"tableCnt",children:Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Nombre"}),Object(E.jsx)("th",{children:"Rol"}),Object(E.jsx)("th",{className:"tableIdContent",children:"Id"})]})}),Object(E.jsx)("tbody",{children:c?function(e){return e.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.email}),Object(E.jsx)("td",{children:e.roles.name}),Object(E.jsx)("td",{className:"tableIdContent",children:e._id}),Object(E.jsxs)("td",{children:[Object(E.jsx)(V.a,{"aria-label":"editIcon",fontSize:"small",className:"optTable",onClick:function(){W.remove("user",{path:"/"}),W.set("user",e),window.location.href="#/admin/users/edituser"}}),Object(E.jsx)($.a,{fontSize:"small",className:"optTable",onClick:function(){return e._id===l._id?t({title:"No puede eliminar su propio usuario."}):t({title:"\xbfEst\xe1 Seguro de eliminar este usuario?",body:"Al removerse no podr\xe1 volver a recuperarlo m\xe1s tarde.",button:"Eliminar",id:e._id,path:"users"})}})]})]},e._id)}))}(c):Object(E.jsx)("tr",{})})]})}),Object(E.jsx)("div",{className:"linkAdmin",children:Object(E.jsx)(o.b,{to:"/admin/users/newuser",children:"Crear Usuario"})})]}):B()})},Z=n(62),K=n.n(Z),X=n(80),Y=n.n(X),ee=new x.a,te=function(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1],l=ee.get("userLogged");Object(a.useEffect)((function(){var e=!1;if(l)return C("products",ee.get("token")).then((function(t){e||s(t)})),function(){e=!0};window.location.href="#/"}),[]);return Object(E.jsx)("div",{"aria-label":"products",className:"container",children:ee.get("userLogged").roles.admin?Object(E.jsxs)("div",{className:"optionContent",children:[Object(E.jsx)("div",{className:"tableCnt",children:Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Nombre"}),Object(E.jsx)("th",{children:"Men\xfa"}),Object(E.jsx)("th",{children:"Precio"})]})}),Object(E.jsx)("tbody",{children:c?function(e){return e.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.type}),Object(E.jsx)("td",{children:"S/ ".concat(e.price)}),Object(E.jsxs)("td",{children:[Object(E.jsx)(Y.a,{"aria-label":"editIcon",fontSize:"small",className:"optTable",onClick:function(){ee.remove("product",{path:"/"}),ee.set("product",e),window.location.href="#/admin/products/editproduct"}}),Object(E.jsx)(K.a,{fontSize:"small",className:"optTable",onClick:function(){t({title:"\xbfEst\xe1 Seguro de eliminar este producto?",body:"Al removerse no podr\xe1 volver a recuperarlo m\xe1s tarde.",button:"Eliminar",id:e._id,path:"products"})}})]})]},e._id)}))}(c):Object(E.jsx)("tr",{})})]})}),Object(E.jsx)("div",{className:"linkAdmin",children:Object(E.jsx)(o.b,{to:"/admin/products/newproduct",children:"Crear Producto"})})]}):B()})},ne=n(135),ae=n(24),re=v().put,ce="https://bq-lab-2021.herokuapp.com/",se=function(e,t,n,a,r,c){return re("".concat(ce).concat(e,"/").concat(t),{headers:{Authorization:"Bearer ".concat(c)},body:{status:n}}).then((function(e){if(e._id)return a({title:r}),e;a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))},ie=new x.a,oe={fontFamily:"Cormorant Upright",textTransform:"none",fontSize:16,fontWeight:600,lineHeight:1.75,width:130,backgroundColor:"#DCCA87",border:"1px solid #DCCA87",color:"#0C0B08",borderRadius:0,"&:hover":{backgroundColor:"#DCCA87",color:"#0C0B08"}},le={fontFamily:"Cormorant Upright",textTransform:"none",fontSize:16,width:130,backgroundColor:"#0C0B08",color:"#FFFFFF",border:"1px solid #DCCA87",borderRadius:0,"&:hover":{backgroundColor:"#DCCA87",border:"1px solid #DCCA87",color:"#0C0B08"}},de=function(e){return e.map((function(e){return Object(E.jsxs)("div",{className:"chef-orderContent",children:[Object(E.jsx)("p",{className:"chef-item",children:e.productId&&e.productId.name}),Object(E.jsx)("p",{className:"chef-qty",children:e.qty})]},e.productId&&e.productId._id)}))};function ue(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){e||s(t)})),function(){e=!0}}),[]);return Object(E.jsx)("div",{className:"waiterOrdersCardContainer",children:c?function(e){return e.map((function(e){return Object(E.jsxs)("div",{className:"ordersCard",children:[Object(E.jsx)("p",{className:"orderStatus",children:"pending"===e.status?"Pendiente":"delivering"===e.status?"Lista":"delivered"===e.status?"Entregada":"canceled"===e.status?"Cancelada":"Error"}),Object(E.jsx)("p",{className:"orderClient",children:e.client}),Object(E.jsx)("div",{children:de(e.products)}),Object(E.jsxs)("div",{className:"orderCardButtonContainer",children:["pending"===e.status?Object(E.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){t({title:"\xbfEst\xe1 seguro de cancelar esta orden?",button2:"Cancelar",path:"orders",id:e._id})},children:"Cancelar"}):Object(E.jsx)("div",{}),"delivering"===e.status?Object(E.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){se(e,"orders",e._id,"delivered",ie.get("token"))},children:"Entregar"}):Object(E.jsx)("div",{})]})]},e._id)}))}(c):Object(E.jsx)("div",{})})}function je(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"pending"===e.status}));s(n)}})),function(){e=!0}}),[]);return Object(E.jsx)("div",{className:"waiterOrdersCardContainer",children:c?function(e){return e.map((function(e){return Object(E.jsxs)("div",{className:"ordersCard",children:[Object(E.jsx)("p",{className:"orderStatus",children:"pending"===e.status?"Pendiente":"Error"}),Object(E.jsx)("p",{className:"orderClient",children:e.client}),Object(E.jsx)("div",{children:de(e.products)}),Object(E.jsxs)("div",{className:"orderCardButtonContainer",children:["pending"===e.status?Object(E.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){t({title:"\xbfEst\xe1 seguro de cancelar esta orden?",button2:"Cancelar",path:"orders",id:e._id})},children:"Cancelar"}):Object(E.jsx)("div",{}),"delivering"===e.status?Object(E.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){se(e,"orders",e._id,"delivered",ie.get("token"))},children:"Entregar"}):Object(E.jsx)("div",{})]})]},e._id)}))}(c):Object(E.jsx)("div",{})})}function be(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"delivering"===e.status}));s(n)}})),function(){e=!0}}),[]);return Object(E.jsx)("div",{className:"waiterOrdersCardContainer",children:c?function(e){return e.map((function(e){return Object(E.jsxs)("div",{className:"ordersCard",children:[Object(E.jsx)("p",{className:"orderStatus",children:"delivering"===e.status?"Lista":"Error"}),Object(E.jsx)("p",{className:"orderClient",children:e.client}),Object(E.jsx)("div",{children:de(e.products)}),Object(E.jsx)("div",{className:"orderCardButtonContainer",children:Object(E.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){se("orders",e._id,"delivered",t,"Orden finalizada",ie.get("token"))},children:"Entregar"})})]},e._id)}))}(c):Object(E.jsx)("div",{})})}function me(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"delivered"===e.status}));r(n)}})),function(){e=!0}}),[]);return Object(E.jsx)("div",{className:"waiterOrdersCardContainer",children:n?function(e){return e.map((function(e){return Object(E.jsxs)("div",{className:"ordersCard",children:[Object(E.jsx)("p",{className:"orderStatus",children:"delivered"===e.status?"Entregada":"Error"}),Object(E.jsx)("p",{className:"orderClient",children:e.client}),Object(E.jsx)("div",{children:de(e.products)}),Object(E.jsxs)("div",{className:"orderCardButtonContainer",children:["pending"===e.status?Object(E.jsx)("button",{className:"chef-orderReady",type:"button",onClick:function(){se(e,"orders",e._id,"canceled",ie.get("token"))},children:"Cancelar"}):Object(E.jsx)("div",{}),"delivering"===e.status?Object(E.jsx)("button",{type:"button",onClick:function(){se(e,"orders",e._id,"delivered",ie.get("token"))},children:"Entregar"}):Object(E.jsx)("div",{})]})]},e._id)}))}(n):Object(E.jsx)("div",{})})}function Oe(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"canceled"===e.status}));r(n)}})),function(){e=!0}}),[]);return Object(E.jsx)("div",{className:"waiterOrdersCardContainer",children:n?function(e){return e.map((function(e){return Object(E.jsxs)("div",{className:"ordersCard",children:[Object(E.jsx)("p",{className:"orderStatus",children:"canceled"===e.status?"Cancelada":"Error"}),Object(E.jsx)("p",{className:"orderClient",children:e.client}),Object(E.jsx)("div",{children:de(e.products)}),Object(E.jsx)("div",{className:"orderCardButtonContainer",children:"delivering"===e.status?Object(E.jsx)("button",{type:"button",onClick:function(){se(e,"orders",e._id,"delivered",ie.get("token"))},children:"Entregar"}):Object(E.jsx)("div",{})})]},e._id)}))}(n):Object(E.jsx)("div",{})})}var he=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)("allOrders"),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(oe),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(le),m=Object(i.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(le),p=Object(i.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(le),N=Object(i.a)(g,2),C=N[0],w=N[1],y=Object(a.useState)(le),k=Object(i.a)(y,2),S=k[0],M=k[1],L=Object(ae.a)(ne.a)(u),F=Object(ae.a)(ne.a)(O),P=Object(ae.a)(ne.a)(x),B=Object(ae.a)(ne.a)(C),I=Object(ae.a)(ne.a)(S);return Object(E.jsxs)("div",{"aria-label":"orders",className:"waiterNewOrderContainer",children:[Object(E.jsxs)("div",{className:"waiterHeaderAllOrder",children:[Object(E.jsx)(L,{className:"waiterButton",onClick:function(){o("allOrders"),j(oe),h(le),v(le),w(le),M(le)},children:"Todas"}),Object(E.jsx)(F,{className:"waiterButton",onClick:function(){o("pending"),j(le),h(oe),v(le),w(le),M(le)},children:"Pendientes"}),Object(E.jsx)(P,{className:"waiterButton",onClick:function(){o("delivering"),j(le),h(le),v(oe),w(le),M(le)},children:"Listas"}),Object(E.jsx)(B,{className:"waiterButton",onClick:function(){o("delivered"),j(le),h(le),v(le),w(oe),M(le)},children:"Entregadas"}),Object(E.jsx)(I,{className:"waiterButton",onClick:function(){o("canceled"),j(le),h(le),v(le),w(le),M(oe)},children:"Canceladas"})]}),Object(E.jsx)("div",{className:"waiterAllOrdersBody",children:"allOrders"===s?Object(E.jsx)(ue,{setLoading:t,setModalMessage:n}):"pending"===s?Object(E.jsx)(je,{setLoading:t,setModalMessage:n}):"delivering"===s?Object(E.jsx)(be,{setLoading:t,setModalMessage:n}):"delivered"===s?Object(E.jsx)(me,{setLoading:t}):"canceled"===s?Object(E.jsx)(Oe,{setLoading:t}):Object(E.jsx)("div",{})})]})};var fe=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)(null),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(null),d=Object(i.a)(l,2),b=d[0],m=d[1],O=Object(a.useState)(null),f=Object(i.a)(O,2),x=f[0],v=f[1],g=Object(a.useState)(null),N=Object(i.a)(g,2),C=N[0],w=N[1],y=Object(a.useState)(null),k=Object(i.a)(y,2),S=k[0],M=k[1],F=Object(a.useState)("password"),P=Object(i.a)(F,2),B=P[0],I=P[1],_=Object(a.useState)({name:""}),A=Object(i.a)(_,2),U=A[0],z=A[1],D={email:s,password:b,roles:U},T=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),M(null),"email"!==S){e.next=4;break}return e.abrupt("return",n({body:"La estructura del correo es: example@correo.com"}));case 4:if("password"!==S){e.next=6;break}return e.abrupt("return",n({body:"La contrase\xf1a debe contener al menos 8 d\xedgitos entre may\xfasculas, n\xfameros y car\xe1cteres especiales."}));case 6:if(D.email&&D.password&&D.roles.name){e.next=8;break}return e.abrupt("return",n({title:"Debe ingresar todos los datos"}));case 8:return e.next=10,L(D,t,n,"users");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{"aria-label":"newUser",className:"container",children:Object(E.jsxs)("div",{className:"optionContent",children:[Object(E.jsxs)("div",{className:"optionContentHeader",children:[Object(E.jsx)("button",{type:"button",onClick:function(){window.location.href="#/admin/users"},className:"back",children:"Atr\xe1s"}),Object(E.jsx)("h2",{children:" Nuevo Usuario "})]}),Object(E.jsxs)("form",{onSubmit:T,className:"formUser",children:[Object(E.jsxs)("div",{className:"formCnt",children:[Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"email",children:"Correo:"}),Object(E.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:"example@bq.com",name:"email",id:"email",onChange:function(e){return t=e.target.value,void(!0===/^\S+@\S+\.\S+$/.test(t)?(M(null),v(""),o(t)):(M("email"),v("La estructura es example@correo.com")));var t}}),Object(E.jsx)("p",{className:"goNewEmail formValidation",children:x})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"password",children:"Contrase\xf1a:"}),Object(E.jsx)("input",{type:B,className:"form-input newProductForm",placeholder:"contrase\xf1a",name:"password",id:"password",onChange:function(e){return t=e.target.value,void(!0===/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[.!@#&()\u2013[{}\]:;',?/*~$^+=<>]).{8,}$/.test(t)?(M(null),w(""),m(t)):(M("password"),w("La contrase\xf1a debe contener al menos 8 d\xedgitos entre may\xfasculas, n\xfameros y car\xe1cteres especiales.")));var t}}),"password"===B?Object(E.jsx)(h.a,{onClick:function(){return I("text")},"aria-label":"iconOpen",className:"login-eye-icon"}):Object(E.jsx)(p.a,{onClick:function(){return I("password")},"aria-label":"iconClose",className:"login-eye-icon"}),Object(E.jsx)("p",{className:"goNewPassword formValidation",children:C})]}),Object(E.jsx)("label",{htmlFor:"option",className:"form-label",children:"Rol:"}),Object(E.jsxs)("div",{className:"option-group",children:[Object(E.jsxs)("div",{className:"option-section",children:[Object(E.jsx)("input",{type:"radio",name:"option",id:"adminOpt",onChange:function(e){return e.target.checked?z({admin:!0,name:"administradora"}):z({name:""})}}),Object(E.jsx)("label",{htmlFor:"adminOpt",className:"form-options",children:"Administradora"})]}),Object(E.jsxs)("div",{className:"option-section",children:[Object(E.jsx)("input",{type:"radio",className:"form-options",name:"opt",id:"waiterOpt",onChange:function(e){return e.target.checked?z({admin:!1,name:"mesera"}):z({name:""})}}),Object(E.jsx)("label",{htmlFor:"waiterOpt",className:"form-options",children:"Mesera"})]}),Object(E.jsxs)("div",{className:"option-section",children:[Object(E.jsx)("input",{type:"radio",className:"form-options",name:"opt",id:"chefOpt",onChange:function(e){return e.target.checked?z({admin:!1,name:"cocinera"}):z({name:""})}}),Object(E.jsx)("label",{htmlFor:"chefOpt",className:"form-options",children:"Cocinera"})]})]})]}),Object(E.jsx)("button",{type:"submit",className:"userSubmit",children:"Guardar"})]})]})})},pe=new x.a,xe=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)(null),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(null),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(null),m=Object(i.a)(b,2),O=m[0],f=m[1],x=Object(a.useState)(null),v=Object(i.a)(x,2),g=v[0],N=v[1],C=Object(a.useState)(null),w=Object(i.a)(C,2),y=w[0],k=w[1],S=Object(a.useState)("password"),M=Object(i.a)(S,2),L=M[0],F=M[1];Object(a.useEffect)((function(){pe.get("userLogged")||(window.location.href="#/")}),[]);var P=pe.get("user"),B=P._id,I=P.email,_=P.roles,A=P.password,U=Object(a.useState)(_),z=Object(i.a)(U,2),D=z[0],T=z[1],q={email:s||I,password:u||A,roles:D||_};return Object(E.jsx)("div",{"aria-label":"editUser",className:"container",children:Object(E.jsxs)("div",{className:"optionContent",children:[Object(E.jsxs)("div",{className:"optionContentHeader",children:[Object(E.jsx)("button",{type:"button",onClick:function(){window.location.href="#/admin/users"},className:"back",children:"Atr\xe1s"}),Object(E.jsx)("h2",{children:" Editar Usuario "})]}),Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k(null);var a=pe.get("token");return"email"===y?n({body:"La estructura del correo es: example@correo.com"}):"password"===y?n({body:"La contrase\xf1a debe contener al menos 8 d\xedgitos entre may\xfasculas, n\xfameros y car\xe1cteres especiales."}):void function(e,t,n,a,r,c){t(!0),re("https://bq-lab-2021.herokuapp.com/".concat(a,"/").concat(r),{headers:{Authorization:"Bearer ".concat(c)},body:e}).then((function(e){if(console.log(e),t(!1),e._id)return n({title:"!Usuario actualizado exitosamente!"}),e;n({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))}(q,t,n,"users",B,a)},className:"formUser",children:[Object(E.jsxs)("div",{className:"formCnt",children:[Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"email",children:"Correo:"}),Object(E.jsx)("input",{type:"email",className:"form-input newProductForm",placeholder:I,name:"email",id:"email",onChange:function(e){return t=e.target.value,void(!0===/^\S+@\S+\.\S+$/.test(t)?(k(null),f(""),o(t)):(k("email"),f("La estructura es example@correo.com")));var t}}),Object(E.jsx)("p",{className:"goNewEmail formValidation",children:O})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"password",children:"Contrase\xf1a:"}),Object(E.jsx)("input",{type:L,className:"form-input newProductForm",name:"password",id:"password",onChange:function(e){return t=e.target.value,void(!0===/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[.!@#&()\u2013[{}\]:;',?/*~$^+=<>]).{8,}$/.test(t)?(k(null),N(""),j(t)):(k("password"),N("La contrase\xf1a debe contener al menos 8 d\xedgitos entre may\xfasculas, n\xfameros y car\xe1cteres especiales.")));var t}}),"password"===L?Object(E.jsx)(h.a,{onClick:function(){return F("text")},"aria-label":"iconOpen",className:"login-eye-icon"}):Object(E.jsx)(p.a,{onClick:function(){return F("password")},"aria-label":"iconClose",className:"login-eye-icon"}),Object(E.jsx)("p",{className:"goNewPassword formValidation",children:g}),Object(E.jsx)("br",{})]}),Object(E.jsx)("span",{htmlFor:"option",className:"form-label",children:"Rol:"}),Object(E.jsxs)("div",{className:"option-group",children:[Object(E.jsxs)("div",{className:"option-section",children:[Object(E.jsx)("input",{type:"radio",className:"form-opt",name:"opt",id:"adminOpt",onChange:function(e){return e.target.checked?T({admin:!0,name:"administradora"}):T({name:""})}}),Object(E.jsx)("label",{htmlFor:"adminOpt",className:"form-options",children:"Administradora"})]}),Object(E.jsxs)("div",{className:"option-section",children:[Object(E.jsx)("input",{type:"radio",className:"form-options",name:"opt",id:"waiterOpt",onChange:function(e){return e.target.checked?T({admin:!1,name:"mesera"}):T({name:""})}}),Object(E.jsx)("label",{htmlFor:"waiterOpt",className:"form-options",children:"Mesera"})]}),Object(E.jsxs)("div",{className:"option-section",children:[Object(E.jsx)("input",{type:"radio",className:"form-options",name:"opt",id:"chefOpt",onChange:function(e){return e.target.checked?T({admin:!1,name:"cocinera"}):T({name:""})}}),Object(E.jsx)("label",{className:"form-options",htmlFor:"chefOpt",children:"Cocinera"})]})]})]}),Object(E.jsx)("button",{type:"submit",className:"userSubmit",children:"Guardar"})]})]})})},ve=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)({name:"",type:"",price:"",image:""}),c=Object(i.a)(r,2),s=c[0],o=c[1],l=function(e){o(Object(m.a)(Object(m.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))},d=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s.name&&s.type&&s.price){e.next=3;break}return e.abrupt("return",n({body:"Los campos nombre, men\xfa y precio son obligatorios."}));case 3:return e.next=5,M(s,t,n,"products");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{"aria-label":"newProduct",className:"container",children:Object(E.jsxs)("div",{className:"optionContent",children:[Object(E.jsxs)("div",{className:"optionContentHeader",children:[Object(E.jsx)("button",{type:"button",onClick:function(){window.location.href="#/admin/products"},className:"back",children:"Atr\xe1s"}),Object(E.jsx)("h2",{children:" Nuevo Producto "})]}),Object(E.jsxs)("form",{onSubmit:d,className:"formUser",children:[Object(E.jsxs)("div",{className:"formCnt",children:[Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"name",children:"Nombre:"}),Object(E.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:"Nombre de producto",name:"name",id:"name",onChange:l})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"menu",children:"Menu:"}),Object(E.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:"Desayuno o Diario",name:"type",id:"menu",onChange:l})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"description",children:"Precio:"}),Object(E.jsx)("input",{type:"number",className:"form-input newProductForm",placeholder:"S/",name:"price",id:"price",onChange:l})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"urlImage",children:"Agregar URL de Imagen"}),Object(E.jsx)("input",{type:"text",placeholder:"https://imagen.com",className:"form-input newProductForm",name:"image",id:"urlImage",onChange:l})]})]}),Object(E.jsx)("button",{type:"submit",className:"userSubmit",children:"Guardar"})]})]})})},ge=new x.a,Ne=function(e){var t=e.setLoading,n=e.setModalMessage,r=ge.get("product"),c=ge.get("product"),s=c._id,o=c.name,l=c.type,d=c.price,u=c.image,j=Object(a.useState)(r),O=Object(i.a)(j,2),h=O[0],f=O[1];Object(a.useEffect)((function(){ge.get("userLogged")||(window.location.href="#/")}),[]);var p=function(e){f(Object(m.a)(Object(m.a)({},h),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(E.jsx)("div",{"aria-label":"editProduct",className:"container",children:Object(E.jsxs)("div",{className:"optionContent",children:[Object(E.jsxs)("div",{className:"optionContentHeader",children:[Object(E.jsx)("button",{type:"button",onClick:function(){window.location.href="#/admin/products"},className:"back",children:"Atr\xe1s"}),Object(E.jsx)("h2",{children:" Editar Producto "})]}),Object(E.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!h)return n({title:"Debe ingresar al menos un campo"});var a=ge.get("token");!function(e,t,n,a,r,c){var s=e.name,i=e.price,o=e.type,l=e.image;t(!0),re("".concat(ce).concat(a,"/").concat(r),{headers:{Authorization:"Bearer ".concat(c)},body:{name:s,price:Number(i),type:o,image:l}}).then((function(e){return t(!1),e._id?(n({title:"\xa1Producto actualizado exitosamente!"}),e):n({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))}(h,t,n,"products",s,a)},children:[Object(E.jsxs)("div",{className:"formCnt",children:[Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"name",children:"Nombre:"}),Object(E.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:o,name:"name",id:"name",onChange:p})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"type",children:"Men\xfa:"}),Object(E.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:l,name:"type",id:"type",onChange:p})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"price",children:"Precio:"}),Object(E.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:d,name:"price",id:"price",onChange:p})]}),Object(E.jsxs)("div",{className:"form-section",children:[Object(E.jsx)("label",{className:"form-label",htmlFor:"urlImage",children:"Cambiar Imagen"}),Object(E.jsx)("input",{placeholder:u,type:"text",className:"form-input newProductForm",name:"image",id:"urlImage",onChange:p})]})]}),Object(E.jsx)("button",{type:"submit",className:"userSubmit",children:"Guardar"})]})]})})},Ce=new x.a,we=function(e){var t=e.setLoading,n=e.setModalMessage,r=Ce.get("userLogged");return Object(a.useEffect)((function(){r||(window.location.href="#/")}),[]),Object(E.jsxs)(o.a,{"aria-label":"admin",children:[r.roles.admin?Object(E.jsxs)("div",{"aria-label":"admin",className:"adminContainer",children:[Object(E.jsxs)("div",{className:"navContainer",children:[Object(E.jsx)(o.c,{to:"/","aria-label":"navlogo",className:"navlogo",children:"BQ"}),Object(E.jsxs)("nav",{className:"nav",children:[Object(E.jsx)(o.c,{to:"/admin/users",activeClassName:"active",className:"navlink",children:"Usuarios"}),Object(E.jsx)("div",{className:"navLine"}),Object(E.jsx)(o.c,{to:"/admin/products",activeClassName:"active",className:"navlink",children:"Productos"}),Object(E.jsx)("div",{className:"navLine"}),Object(E.jsx)(o.c,{to:"/admin/allorders",activeClassName:"active",className:"navlink",children:"\xd3rdenes"})]}),Object(E.jsx)(D.a,{fontSize:"medium",onClick:function(){window.location.href="#/meserx/neworder"}}),Object(E.jsx)(q.a,{fontSize:"medium",onClick:function(){window.location.href="#/chef/pendingorders"}}),Object(E.jsx)(U.a,{"aria-label":"exitIcon",fontSize:"medium",onClick:function(){return P()}})]}),Object(E.jsxs)("div",{className:"adminBodyContainer",children:[Object(E.jsxs)("div",{className:"adminCard",children:[Object(E.jsx)("h1",{className:"adminH1",children:"Administradorx"}),Object(E.jsxs)("div",{className:"userData",children:[Object(E.jsx)(H.a,{fontSize:"large",alt:"avatar",className:"userPhoto"}),Object(E.jsx)("p",{children:Object(E.jsx)("b",{children:r.roles.name})}),Object(E.jsx)("p",{className:"userDataEmail",children:r.email})]})]}),Object(E.jsxs)(l.c,{children:[Object(E.jsx)(l.a,{exact:!0,path:"/admin/users",component:function(){return Object(E.jsx)(J,{setLoading:t,setModalMessage:n})}}),Object(E.jsx)(l.a,{path:"/admin/users/newuser",component:function(){return Object(E.jsx)(fe,{setLoading:t,setModalMessage:n})}}),Object(E.jsx)(l.a,{path:"/admin/users/edituser",component:function(){return Object(E.jsx)(xe,{setLoading:t,setModalMessage:n})}}),Object(E.jsx)(l.a,{exact:!0,path:"/admin/products",component:function(){return Object(E.jsx)(te,{setLoading:t,setModalMessage:n})}}),Object(E.jsx)(l.a,{path:"/admin/products/newproduct",component:function(){return Object(E.jsx)(ve,{setLoading:t,setModalMessage:n})}}),Object(E.jsx)(l.a,{path:"/admin/products/editproduct",component:function(){return Object(E.jsx)(Ne,{setLoading:t,setModalMessage:n})}}),Object(E.jsx)(l.a,{exact:!0,path:"/admin/allorders",component:function(){return Object(E.jsx)("div",{className:"adminAllOrdersContainer",children:Object(E.jsx)(he,{setLoading:t,setModalMessage:n})})}})]})]})]}):B(),";"]})};function ye(){return Object(E.jsx)("div",{"aria-label":"notFound",children:Object(E.jsx)("h1",{children:"Error 404: P\xe1gina no encontrada"})})}var ke=n(12),Se=n(63),Me=n.n(Se),Le=(n(69),new x.a),Ee=function(e){var t=e.productsOrder,n=e.setProductsOrder,r=e.setQtyChange,c=e.setSum,s=e.sum,o=Object(a.useState)(null),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),O=b[0],h=b[1];Object(a.useEffect)((function(){var e=!1;return C("products",Le.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"desayuno"===e.type.toLowerCase()}));u(n)}})),function(){e=!0}}),[]);var f=function(e){return e.map((function(e){return Object(E.jsxs)("div",{className:"waiterProductCard",onClick:function(){return function(e){c(e.price+s);var a=t.map((function(e){return e._id}));return-1!==a.indexOf(e._id)?(t[a.indexOf(e._id)].qty+=1,r(!0),n(t)):n([].concat(Object(ke.a)(t),[Object(m.a)(Object(m.a)({},e),{},{qty:1})]))}(e)},children:[Object(E.jsxs)("div",{className:"waiterProductCardText",children:[Object(E.jsx)("h3",{children:e.name}),Object(E.jsx)("span",{children:e.price})]}),Object(E.jsx)("div",{className:"waiterProductCardImage",children:Object(E.jsx)("img",{className:"waiterImgCard",src:e.image,alt:"food"})})]},e._id)}))},p=Object(ae.a)("div")((function(e){return{padding:e.theme.spacing(0,2),position:"absolute",height:"100%",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff"}}));return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"searchContent",children:[Object(E.jsx)(p,{children:Object(E.jsx)(Me.a,{})}),Object(E.jsx)("div",{className:"waiterSearchInputContent",children:Object(E.jsx)("input",{className:"waiterSearchInput",autoComplete:"string",placeholder:"Buscar\u2026","aria-label":"search",value:O,onChange:function(e){h(e.target.value.toLowerCase())}})})]}),Object(E.jsx)("div",{className:"waiterProductsContainer",children:d?function(e){if(O){var t=e.filter((function(e){return e.name.toLowerCase().includes(O)}));return f(t)}return f(e)}(d):Object(E.jsx)("div",{})})]})},Fe=new x.a,Pe=function(e){var t=e.productsOrder,n=e.setProductsOrder,r=e.setQtyChange,c=e.setSum,s=e.sum,o=Object(a.useState)(null),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(null),b=Object(i.a)(j,2),O=b[0],h=b[1];Object(a.useEffect)((function(){var e=!1;return C("products",Fe.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"diario"===e.type.toLowerCase()}));u(n)}})),function(){e=!0}}),[]);var f=function(e){return e.map((function(e){return Object(E.jsxs)("div",{className:"waiterProductCard",onClick:function(){return function(e){c(e.price+s);var a=t.map((function(e){return e._id}));return-1!==a.indexOf(e._id)?(t[a.indexOf(e._id)].qty+=1,r(!0),n(t)):n([].concat(Object(ke.a)(t),[Object(m.a)(Object(m.a)({},e),{},{qty:1})]))}(e)},children:[Object(E.jsxs)("div",{className:"waiterProductCardText",children:[Object(E.jsx)("h3",{children:e.name}),Object(E.jsx)("span",{children:e.price})]}),Object(E.jsx)("div",{className:"waiterProductCardImage",children:Object(E.jsx)("img",{className:"waiterImgCard",src:e.image,alt:"food"})})]},e._id)}))},p=Object(ae.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff"}}));return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"searchContent",children:[Object(E.jsx)(p,{children:Object(E.jsx)(Me.a,{})}),Object(E.jsx)("div",{className:"waiterSearchInputContent",children:Object(E.jsx)("input",{className:"waiterSearchInput",autoComplete:"string",placeholder:"Buscar\u2026","aria-label":"search",value:O,onChange:function(e){h(e.target.value.toLowerCase())}})})]}),Object(E.jsx)("div",{className:"waiterProductsContainer",children:d?function(e){if(O){var t=e.filter((function(e){return e.name.toLowerCase().includes(O)}));return f(t)}return f(e)}(d):Object(E.jsx)("div",{})})]})},Be=new x.a,Ie={fontFamily:"Cormorant Upright",textTransform:"none",fontSize:16,fontWeight:600,lineHeight:1.75,width:130,backgroundColor:"#DCCA87",border:"1px solid #DCCA87",color:"#0C0B08",borderRadius:0,"&:hover":{backgroundColor:"#DCCA87",color:"#0C0B08"}},_e={fontFamily:"Cormorant Upright",textTransform:"none",fontSize:16,width:130,backgroundColor:"#0C0B08",color:"#FFFFFF",border:"1px solid #DCCA87",borderRadius:0,"&:hover":{backgroundColor:"#DCCA87",border:"1px solid #DCCA87",color:"#0C0B08"}};function Ae(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)("breakfast"),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)([]),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(""),m=Object(i.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(null),p=Object(i.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(0),N=Object(i.a)(g,2),C=N[0],S=N[1],M=Object(a.useState)(Ie),L=Object(i.a)(M,2),F=L[0],P=L[1],B=Object(a.useState)(_e),I=Object(i.a)(B,2),_=I[0],A=I[1],U=Object(ae.a)(ne.a)(F),z=Object(ae.a)(ne.a)(_);Object(a.useEffect)((function(){Be.get("userLogged")||(window.location.href="#/")}),[]);var D=function(){var e=u.map((function(e){return{productId:e._id,qty:e.qty}}));return function(e,t,n,a,r,c){a(!0);var s=k.get("token");w("".concat(y).concat(c),{headers:{Authorization:"Bearer ".concat(s)},body:{userId:n,client:e,products:t}}).then((function(e){return console.log(e),a(!1),e.err&&400===e.status?r({title:"!Ups! no puede crear una orden vac\xeda"}):e._id?r({title:"Orden creada exitosamente"}):r({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))}(O,e,Be.get("userLogged")._id,t,n,"orders")};return Object(E.jsxs)("div",{className:"waiterNewOrderContainer",children:[Object(E.jsxs)("section",{className:"waiterHeader",children:[Object(E.jsxs)("div",{className:"waiterHeaderSection1",children:[Object(E.jsx)(U,{className:"waiterButton",onClick:function(){o("breakfast"),P(Ie),A(_e)},children:"Desayuno"}),Object(E.jsx)(z,{className:"waiterButton",onClick:function(){o("diary"),P(_e),A(Ie)},children:"Diario"})]}),Object(E.jsx)("div",{className:"waiterHeaderSection2",children:Object(E.jsx)("input",{className:"waiterInput",onChange:function(e){return h(e.target.value)},placeholder:"Nombre Cliente"})})]}),Object(E.jsxs)("section",{className:"waiterBody",children:[Object(E.jsx)("div",{className:"waiterProductsSection",children:"breakfast"===s?Object(E.jsx)(Ee,{setLoading:t,productsOrder:u,setProductsOrder:j,setQtyChange:v,setSum:S,sum:C}):Object(E.jsx)(Pe,{setLoading:t,productsOrder:u,setProductsOrder:j,setQtyChange:v,setSum:S,sum:C})}),Object(E.jsxs)("div",{className:"waiterOrderSection",children:[Object(E.jsx)("h3",{className:"waiterOrderTitle",children:"Orden"}),Object(E.jsx)("div",{className:"waiterOrderTableContainer",children:Object(E.jsxs)("table",{className:"waiterOrderTable",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Cant."}),Object(E.jsx)("th",{children:"Producto"}),Object(E.jsx)("th",{children:"Precio Unit."})]})}),Object(E.jsxs)("tbody",{children:[u!==[]||x?u.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"golden",children:e.qty}),Object(E.jsx)("td",{className:"golden",children:e.name}),Object(E.jsx)("td",{children:"S/. ".concat(e.price)}),Object(E.jsx)("td",{children:Object(E.jsx)(K.a,{fontSize:"small",onClick:function(){return function(e){S(C-Number(e.price)*e.qty);var t=u.filter((function(t){return t._id!==e._id}));j(Object(ke.a)(t))}(e)}})})]},e._id)})):Object(E.jsx)("div",{}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"golden",children:"Total "}),Object(E.jsx)("td",{}),Object(E.jsx)("td",{className:"golden",children:"S/.".concat(C)})]})]})]})}),!!x&&v(null),Object(E.jsx)("div",{className:"buttonContainer",children:Object(E.jsx)(U,{className:"waiterButton",onClick:function(){return D()},children:"Guardar"})})]})]})]})}var Ue=new x.a,ze=function(e){var t=e.setLoading,n=e.setModalMessage;return Object(E.jsx)(o.a,{children:"mesera"===Ue.get("userLogged").roles.name||Ue.get("userLogged").roles.admin?Object(E.jsxs)("div",{"aria-label":"waiter",className:"waiterContainer",children:[Object(E.jsxs)("div",{className:"navContainer",children:[Object(E.jsx)(o.c,{to:"/","aria-label":"navlogo",className:"navlogo",children:"BQ"}),Object(E.jsxs)("nav",{className:"nav",children:[Object(E.jsx)(o.c,{className:"navlink",to:"/meserx/neworder",activeClassName:"active","aria-label":"new-order",children:"Generar Orden"}),Object(E.jsx)("div",{className:"navLine"}),Object(E.jsx)(o.c,{className:"navlink",to:"/meserx/allorders",activeClassName:"active","aria-label":"all-order",children:"Ver \xd3rdenes"})]}),Ue.get("userLogged").roles.admin?Object(E.jsx)(H.a,{fontSize:"medium",onClick:function(){window.location.href="#/admin/users"}}):Object(E.jsx)("div",{}),Object(E.jsx)(U.a,{fontSize:"medium",onClick:function(){return P()},"aria-label":"logout"})]}),Object(E.jsxs)(l.c,{children:[Object(E.jsx)(l.a,{path:"/meserx/neworder",component:function(){return Object(E.jsx)(Ae,{setLoading:t,setModalMessage:n})}}),Object(E.jsx)(l.a,{exact:!0,path:"/meserx/allorders",component:function(){return Object(E.jsx)(he,{setLoading:t,setModalMessage:n})}})]})]}):B()})},De=(n(70),new x.a);var Te=function(e){var t,n=e.setModalMessage,r=Object(a.useState)(null),c=Object(i.a)(r,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){var e=!1;return C("orders",De.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"pending"===e.status}));o(n)}})),function(){e=!0}}),[]),Object(E.jsx)("div",{className:"chef-ordersContainer","aria-label":"chef-pending",children:s?(t=s,t.map((function(e){return Object(E.jsxs)("div",{className:"ordersCard",children:[Object(E.jsx)("p",{className:"orderClient",children:e.client}),Object(E.jsx)("div",{children:(t=e.products,t.map((function(e){return Object(E.jsxs)("div",{className:"chef-orderContent",children:[Object(E.jsx)("p",{className:"chef-item",children:e.productId&&e.productId.name}),Object(E.jsx)("p",{className:"chef-qty",children:e.qty})]})})))}),Object(E.jsx)("div",{className:"orderCardButtonContainer",children:Object(E.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){se("orders",e._id,"delivering",n,"La orden est\xe1 lista para entregarse.",De.get("token"))},children:"Listo"})})]},e._id);var t}))):Object(E.jsx)("div",{})})},qe=new x.a;var Re=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=!1;return C("orders",qe.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"delivering"===e.status}));r(n)}})),function(){e=!0}}),[]);var c,s=function(e){var t=e.dateProcessed,n=e.dateEntry,a=new Date(t).toString(),r=new Date(n).toString();if(a.slice(0,15)===r.slice(0,15)){return function(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),a=Math.floor(e/36e5%24);return a=a<10?"0".concat(a):a,n=n<10?"0".concat(n):n,t=t<10?"0".concat(t):t,"".concat(a," : ").concat(n," : ").concat(t)}(Math.abs(new Date(t)-new Date(n)))}return"Orden fuera de tiempo"};return Object(E.jsx)("div",{className:"chef-ordersContainer","aria-label":"chef-delivering",children:n?(c=n,c.map((function(e){return Object(E.jsxs)("div",{className:"ordersCard",children:[Object(E.jsx)("p",{className:"orderTimer",children:s(e)}),Object(E.jsx)("p",{className:"orderClient",children:e.client}),Object(E.jsx)("div",{children:(t=e.products,t.map((function(e){return Object(E.jsxs)("div",{className:"chef-orderContent",children:[Object(E.jsx)("p",{className:"chef-item",children:e.productId&&e.productId.name}),Object(E.jsx)("p",{className:"chef-qty",children:e.qty})]})})))})]},e._id);var t}))):Object(E.jsx)("div",{})})},He=new x.a,Qe=function(e){var t=e.setLoading,n=e.setModalMessage;return Object(E.jsx)(o.a,{children:"cocinera"===He.get("userLogged").roles.name||He.get("userLogged").roles.admin?Object(E.jsxs)("div",{"aria-label":"chef",className:"chefContainer",children:[Object(E.jsxs)("div",{className:"navContainer",children:[Object(E.jsx)(o.c,{to:"/","aria-label":"navlogo",className:"navlogo",children:"BQ"}),Object(E.jsxs)("nav",{className:"nav",children:[Object(E.jsx)(o.c,{to:"/chef/pendingorders",activeClassName:"active",className:"navlink","aria-label":"pending-link",children:"Ordenes Pendientes"}),Object(E.jsx)("div",{className:"navLine"}),Object(E.jsx)(o.c,{to:"/chef/deliveringorders",activeClassName:"active",className:"navlink","aria-label":"delivering-link",children:"Ordenes Listas"})]}),He.get("userLogged").roles.admin?Object(E.jsx)(H.a,{fontSize:"medium",onClick:function(){window.location.href="#/admin/users"}}):Object(E.jsx)("div",{}),Object(E.jsx)(U.a,{fontSize:"medium",onClick:function(){return P()},"aria-label":"logout"})]}),Object(E.jsxs)(l.c,{children:[Object(E.jsx)(l.a,{exact:!0,path:"/chef/pendingorders",component:function(){return Object(E.jsx)(Te,{setLoading:t,setModalMessage:n})}}),Object(E.jsx)(l.a,{exact:!0,path:"/chef/deliveringorders",component:function(){return Object(E.jsx)(Re,{setLoading:t,setModalMessage:n})}})]})]}):B()})},$e=(n(75),function(){return Object(a.useEffect)((function(){}),[]),Object(E.jsxs)("div",{"aria-label":"admin",className:"adminContainer",children:[Object(E.jsxs)("div",{className:"navContainer",children:[Object(E.jsx)(o.c,{to:"/","aria-label":"navlogo",className:"navlogo",children:"BQ"}),Object(E.jsxs)("nav",{className:"nav",children:[Object(E.jsx)(o.c,{to:"/",activeClassName:"active",className:"navlink",children:"Inicio"}),Object(E.jsx)("div",{className:"navLine"}),Object(E.jsx)(o.c,{to:"/login",activeClassName:"active",className:"navlink",children:"Iniciar Sesi\xf3n"})]})]}),Object(E.jsxs)("div",{className:"landingBodyContainer",children:[Object(E.jsx)("h1",{className:"landingTitle",children:"Bienvenidx a Burger Queen"}),Object(E.jsx)("button",{className:"landingButton",type:"button",onClick:function(){window.location.href="#/login"},children:"Iniciar Sesi\xf3n"})]})]})}),Ge=(n(106),function(){return Object(E.jsx)("div",{className:"loader-container",children:Object(E.jsxs)("div",{className:"lds-default",children:[Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{})]})})}),Ve=(n(107),v().del),We=function(e,t,n,a,r){return e(!0),Ve("".concat("https://bq-lab-2021.herokuapp.com/").concat(n,"/").concat(a),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(n){if(e(!1),n._id)return t({body:"\xa1Eliminado!"}),n;t({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))},Je=new x.a,Ze=function(e){var t=e.setLoading,n=e.modalMessage,a=e.setModalMessage,r=n.title,c=n.body,s=n.button,i=n.button2,o=n.id,l=n.path,d=function(){return a(null)},b=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(t,a,l,o,Je.get("token"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(l,o,"canceled",a,"Orden cancelada",Je.get("token"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("article",{onClick:function(){return d()},className:"modal is-open",children:Object(E.jsxs)("div",{className:"modal-container",onClick:function(e){return e.stopPropagation()},children:[Object(E.jsx)("button",{type:"button",onClick:function(){return d()},className:"modal-close",children:"x"}),Object(E.jsx)("div",{className:"modal-header",children:r?Object(E.jsx)("h3",{children:r}):Object(E.jsx)("div",{})}),Object(E.jsx)("div",{className:"modal-body",children:c?Object(E.jsx)("p",{children:c}):Object(E.jsx)("div",{})}),Object(E.jsxs)("div",{className:"modal-footer",children:[Object(E.jsx)("button",{type:"button",className:"modal-cancel",onClick:function(){return d()},children:"Cerrar"}),s?Object(E.jsx)("button",{type:"button",className:"modal-remove",onClick:function(){return b()},children:s}):Object(E.jsx)("div",{}),i?Object(E.jsx)("button",{type:"button",className:"modal-update",onClick:function(){return m()},children:i}):Object(E.jsx)("div",{})]})]})})},Ke=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(i.a)(c,2),d=s[0],u=s[1];return Object(E.jsxs)(o.a,{children:[d&&Object(E.jsx)(Ge,{}),n&&Object(E.jsx)(Ze,{setLoading:u,modalMessage:n,setModalMessage:r}),Object(E.jsxs)(l.c,{children:[Object(E.jsx)(l.a,{exact:!0,path:"/",component:function(){return Object(E.jsx)($e,{})}}),Object(E.jsx)(l.a,{exact:!0,path:"/login",component:function(){return Object(E.jsx)(_,{setLoading:u,setModalMessage:r})}}),Object(E.jsx)(l.a,{path:"/admin",component:function(){return Object(E.jsx)(we,{setLoading:u,setModalMessage:r})}}),Object(E.jsx)(l.a,{path:"/meserx",component:function(){return Object(E.jsx)(ze,{setLoading:u,setModalMessage:r})}}),Object(E.jsx)(l.a,{path:"/chef",component:function(){return Object(E.jsx)(Qe,{setLoading:u,setModalMessage:r})}}),Object(E.jsx)(l.a,{path:"*",children:Object(E.jsx)(ye,{})})]})]})};s.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(Ke,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js",{scope:"/"}).then((function(e){return console.info("Registro de SW exitoso",e)})).catch((function(e){return console.warn("Error al tratar de registrar el sw",e)}))},39:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},75:function(e,t,n){},93:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.70d351ef.chunk.js.map