(this["webpackJsonpBurger-queen"]=this["webpackJsonpBurger-queen"]||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(54),s=n.n(c),i=n(3),o=n(13),l=n(10),d=n(9),u=n.n(d),j=n(23),b=n(7),m=n(15),O=n(74),h=n.n(O),f=n(75),p=n.n(f),x=n(6),v=(n(93),function(){var e=function(e,t){var n={"Content-Type":"application/json"},a=new AbortController;return t.signal=a.signal,t.method=t.method||"GET",t.headers=t.headers?Object(m.a)(Object(m.a)({},n),t.headers):n,t.body=JSON.stringify(t.body)||!1,t.body||delete t.body,setTimeout((function(){return a.abort()}),2e4),fetch(e,t).then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=4;break}e.t0=t.json(),e.next=12;break;case 4:return e.t1=Promise,e.next=7,t.json();case 7:e.t2=e.sent.message,e.t3=t.status,e.t4=t.statusText,e.t5={err:!0,message:e.t2,status:e.t3,statusText:e.t4},e.t0=e.t1.reject.call(e.t1,e.t5);case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return e}))};return{get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(t,n)},post:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="POST",e(t,n)},put:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="PUT",e(t,n)},del:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="DELETE",e(t,n)}}}),g=v().get,N="https://bq-lab-2021.herokuapp.com/",C=function(e,t){return g("".concat(N).concat(e,"?limit=0"),{headers:{Authorization:"Bearer ".concat(t)}})},w=v().post,y="https://bq-lab-2021.herokuapp.com/",k=new x.a,S=function(){var e=Object(j.a)(u.a.mark((function e(t,n,a){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,w("".concat(y,"auth"),{body:t});case 4:if(r=e.sent,n(!1),!r.err||"Invalid password"!==r.message){e.next=8;break}return e.abrupt("return",a({title:"Contrase\xf1a incorrecta.",body:"Int\xe9ntelo nuevamente"}));case 8:if(!r.err||"User doesn't exists"!==r.message){e.next=10;break}return e.abrupt("return",a({title:"Usuario no registrado.",body:"Int\xe9ntelo nuevamente"}));case 10:if(!r.err){e.next=12;break}return e.abrupt("return",a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."}));case 12:return a(null),k.remove("token",{path:"/"}),k.set("token",r.token,{path:"/"}),e.next=17,s="users/".concat(t.email),i=r.token,g("".concat(N).concat(s),{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){return e})).catch((function(e){return console.info(e)}));case 17:c=e.sent,k.remove("userLogged",{path:"/"}),k.set("userLogged",c,{path:"/"}),c.roles.admin?window.location.hash="#/admin/users":"cocinera"===c.roles.name?window.location.hash="#/chef/pendingorders":window.location.hash="#/meserx/neworder",e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),n(!1),a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."});case 27:case"end":return e.stop()}var s,i}),e,null,[[1,23]])})));return function(t,n,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(u.a.mark((function e(t,n,a,r){var c,s,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),c=t.name,s=t.type,i=t.price,o=t.image,e.next=4,w("".concat(y).concat(r),{headers:{Authorization:"Bearer ".concat(k.get("token"))},body:{name:c,type:s,price:Number(i),image:o}});case 4:if(l=e.sent,n(!1),!l._id){e.next=8;break}return e.abrupt("return",a({title:"Producto creado exitosamente."}));case 8:return e.abrupt("return",a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."}));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),L=function(e,t,n,a){var r=e.email,c=e.password,s=e.roles,i=k.get("token");t(!0),w("".concat(y).concat(a),{headers:{Authorization:"Bearer ".concat(i)},body:{email:r,password:c,roles:s}}).then((function(a){return t(!1),a._id?n({title:"Usuario creado exitosamente"}):a.err&&a.message==="User with email: ".concat(e.email," already exists")?n({title:"Usuario con email: ".concat(e.email," ya se encuentra registrado")}):n({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))},F=n(0),P=new x.a,E=function(){P.remove("userLogged",{path:"/"}),P.remove("token",{path:"/"}),window.location.href="#/"},_=function(){return Object(F.jsx)("h3",{"aria-label":"notFound",children:"Not found"})},I=new x.a,A=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)("password"),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)({email:"",password:""}),d=Object(i.a)(l,2),O=d[0],f=d[1],x=Object(a.useState)({emailMsg:"",passwordMsg:""}),v=Object(i.a)(x,2),g=v[0],N=v[1],C=function(e){f(Object(m.a)(Object(m.a)({},O),{},Object(b.a)({},e.target.name,e.target.value)))},w=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),O.email&&O.password){e.next=3;break}return e.abrupt("return",n({title:"No ingres\xf3 correo o contrase\xf1a.",body:"Int\xe9ntelo nuevamente"}));case 3:return e.next=5,S(O,t,n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I.get("userLogged")&&(I.get("userLogged").roles.admin?window.location.href="#/admin/users":window.location.href="#/meserx/neworder")}),[]),Object(F.jsx)("div",{"aria-label":"login",className:"login-container",children:Object(F.jsxs)("div",{className:"login-formContainer",children:[Object(F.jsx)("p",{role:"heading","aria-level":"1",className:"login-title",children:"Iniciar Sesi\xf3n"}),Object(F.jsxs)("form",{"aria-label":"form",className:"login-form",onSubmit:w,children:[Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{"aria-label":"email",htmlFor:"email",className:"form-label",children:" Correo: "}),Object(F.jsx)("input",{"aria-label":"emailInput",type:"text",id:"email",className:"form-input",name:"email",value:O.email,onChange:function(e){C(e),function(e,t){!1===/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)?t({emailMsg:"La estructura es example@correo",passwordMsg:""}):t({emailMsg:"",passwordMsg:""})}(O.email,N)}}),Object(F.jsx)("p",{className:"goEmail formValidation",children:g.emailMsg})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{"aria-label":"password",htmlFor:"password",className:"form-label",children:"Contrase\xf1a:"}),Object(F.jsx)("input",{"aria-label":"passwordInput",type:s,className:"form-input",name:"password",id:"password",onChange:function(e){C(e),function(e,t){!1===/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@.$ %^&*-]).{8,}$/.test(e)?t({emailMsg:"",passwordMsg:"La contrase\xf1a debe contener may\xfasculas, n\xfameros y car\xe1cteres especiales"}):t({emailMsg:"",passwordMsg:""})}(O.password,N)}}),"password"===s?Object(F.jsx)(h.a,{onClick:function(){return o("text")},"aria-label":"iconOpen",className:"login-eye-icon"}):Object(F.jsx)(p.a,{onClick:function(){return o("password")},"aria-label":"iconClose",className:"login-eye-icon"}),Object(F.jsx)("p",{className:"goPassword formValidation",children:g.passwordMsg})]}),Object(F.jsxs)("button",{"aria-label":"iniciarSesion",className:"login-formButton",type:"submit",children:["Iniciar Sesi\xf3n"," "]})]})]})})},B=n(41),U=n.n(B),z=n(81),D=n.n(z),T=n(82),q=n.n(T),R=n(141),H=n(138),$=(n(39),n(78)),G=n.n($),Q=n(76),V=n.n(Q),W=new x.a;var J=function(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1],l=W.get("userLogged");return Object(a.useEffect)((function(){var e=!1;if(l)return C("users",W.get("token")).then((function(t){e||s(t)})),function(){e=!0};window.location.href="#/"}),[]),Object(F.jsx)("div",{"aria-label":"users",className:"container",children:W.get("userLogged").roles.admin?Object(F.jsxs)("div",{className:"optionContent",children:[Object(F.jsx)("div",{className:"tableCnt",children:Object(F.jsxs)("table",{children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Nombre"}),Object(F.jsx)("th",{children:"Rol"}),Object(F.jsx)("th",{className:"tableIdContent",children:"Id"})]})}),Object(F.jsx)("tbody",{children:c?function(e){return e.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.email}),Object(F.jsx)("td",{children:e.roles.name}),Object(F.jsx)("td",{className:"tableIdContent",children:e._id}),Object(F.jsxs)("td",{children:[Object(F.jsx)(V.a,{"aria-label":"editIcon",fontSize:"small",className:"optTable",onClick:function(){W.remove("user",{path:"/"}),W.set("user",e),window.location.href="#/admin/users/edituser"}}),Object(F.jsx)(G.a,{fontSize:"small",className:"optTable",onClick:function(){t({title:"\xbfEst\xe1 Seguro de eliminar este usuario?",body:"Al removerse no podr\xe1 volver a recuperarlo m\xe1s tarde.",button:"Eliminar",id:e._id,path:"users"})}})]})]},e._id)}))}(c):Object(F.jsx)("tr",{})})]})}),Object(F.jsx)("div",{className:"linkAdmin",children:Object(F.jsx)(o.b,{to:"/admin/users/newuser",children:"Crear Usuario"})})]}):_()})},Z=n(60),K=n.n(Z),X=n(80),Y=n.n(X),ee=new x.a,te=function(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1],l=ee.get("userLogged");Object(a.useEffect)((function(){var e=!1;if(l)return C("products",ee.get("token")).then((function(t){e||s(t)})),function(){e=!0};window.location.href="#/"}),[]);return Object(F.jsx)("div",{"aria-label":"products",className:"container",children:ee.get("userLogged").roles.admin?Object(F.jsxs)("div",{className:"optionContent",children:[Object(F.jsx)("div",{className:"tableCnt",children:Object(F.jsxs)("table",{children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Nombre"}),Object(F.jsx)("th",{children:"Men\xfa"}),Object(F.jsx)("th",{children:"Precio"})]})}),Object(F.jsx)("tbody",{children:c?function(e){return e.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.name}),Object(F.jsx)("td",{children:e.type}),Object(F.jsx)("td",{children:"S/ ".concat(e.price)}),Object(F.jsxs)("td",{children:[Object(F.jsx)(Y.a,{"aria-label":"editIcon",fontSize:"small",className:"optTable",onClick:function(){ee.remove("product",{path:"/"}),ee.set("product",e),window.location.href="#/admin/products/editproduct"}}),Object(F.jsx)(K.a,{fontSize:"small",className:"optTable",onClick:function(){t({title:"\xbfEst\xe1 Seguro de eliminar este producto?",body:"Al removerse no podr\xe1 volver a recuperarlo m\xe1s tarde.",button:"Eliminar",id:e._id,path:"products"})}})]})]},e._id)}))}(c):Object(F.jsx)("tr",{})})]})}),Object(F.jsx)("div",{className:"linkAdmin",children:Object(F.jsx)(o.b,{to:"/admin/products/newproduct",children:"Crear Producto"})})]}):_()})},ne=n(139),ae=n(20),re=v().put,ce="https://bq-lab-2021.herokuapp.com/",se=function(e,t,n,a,r,c){return re("".concat(ce).concat(e,"/").concat(t),{headers:{Authorization:"Bearer ".concat(c)},body:{status:n}}).then((function(e){if(e._id)return a({title:r}),e;a({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))},ie=new x.a,oe={fontFamily:"Cormorant Upright",textTransform:"none",fontSize:16,fontWeight:600,lineHeight:1.75,width:130,backgroundColor:"#DCCA87",border:"1px solid #DCCA87",color:"#0C0B08",borderRadius:0,"&:hover":{backgroundColor:"#DCCA87",color:"#0C0B08"}},le={fontFamily:"Cormorant Upright",textTransform:"none",fontSize:16,width:130,backgroundColor:"#0C0B08",color:"#FFFFFF",border:"1px solid #DCCA87",borderRadius:0,"&:hover":{backgroundColor:"#DCCA87",border:"1px solid #DCCA87",color:"#0C0B08"}},de=function(e){return e.map((function(e){return Object(F.jsxs)("div",{className:"chef-orderContent",children:[Object(F.jsx)("p",{className:"chef-item",children:e.productId&&e.productId.name}),Object(F.jsx)("p",{className:"chef-qty",children:e.qty})]},e.productId&&e.productId._id)}))};function ue(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){e||s(t)})),function(){e=!0}}),[]);return Object(F.jsx)("div",{className:"waiterOrdersCardContainer",children:c?function(e){return e.map((function(e){return Object(F.jsxs)("div",{className:"ordersCard",children:[Object(F.jsx)("p",{className:"orderStatus",children:"pending"===e.status?"Pendiente":"delivering"===e.status?"Lista":"delivered"===e.status?"Entregada":"canceled"===e.status?"Cancelada":"Error"}),Object(F.jsx)("p",{className:"orderClient",children:e.client}),Object(F.jsx)("div",{children:de(e.products)}),Object(F.jsxs)("div",{className:"orderCardButtonContainer",children:["pending"===e.status?Object(F.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){t({title:"\xbfEst\xe1 seguro de cancelar esta orden?",button2:"Cancelar",path:"orders",id:e._id})},children:"Cancelar"}):Object(F.jsx)("div",{}),"delivering"===e.status?Object(F.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){se(e,"orders",e._id,"delivered",ie.get("token"))},children:"Entregar"}):Object(F.jsx)("div",{})]})]},e._id)}))}(c):Object(F.jsx)("div",{})})}function je(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"pending"===e.status}));s(n)}})),function(){e=!0}}),[]);return Object(F.jsx)("div",{className:"waiterOrdersCardContainer",children:c?function(e){return e.map((function(e){return Object(F.jsxs)("div",{className:"ordersCard",children:[Object(F.jsx)("p",{className:"orderStatus",children:"pending"===e.status?"Pendiente":"Error"}),Object(F.jsx)("p",{className:"orderClient",children:e.client}),Object(F.jsx)("div",{children:de(e.products)}),Object(F.jsxs)("div",{className:"orderCardButtonContainer",children:["pending"===e.status?Object(F.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){t({title:"\xbfEst\xe1 seguro de cancelar esta orden?",button2:"Cancelar",path:"orders",id:e._id})},children:"Cancelar"}):Object(F.jsx)("div",{}),"delivering"===e.status?Object(F.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){se(e,"orders",e._id,"delivered",ie.get("token"))},children:"Entregar"}):Object(F.jsx)("div",{})]})]},e._id)}))}(c):Object(F.jsx)("div",{})})}function be(e){var t=e.setModalMessage,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"delivering"===e.status}));s(n)}})),function(){e=!0}}),[]);return Object(F.jsx)("div",{className:"waiterOrdersCardContainer",children:c?function(e){return e.map((function(e){return Object(F.jsxs)("div",{className:"ordersCard",children:[Object(F.jsx)("p",{className:"orderStatus",children:"delivering"===e.status?"Lista":"Error"}),Object(F.jsx)("p",{className:"orderClient",children:e.client}),Object(F.jsx)("div",{children:de(e.products)}),Object(F.jsx)("div",{className:"orderCardButtonContainer",children:Object(F.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){se("orders",e._id,"delivered",t,"Orden finalizada",ie.get("token"))},children:"Entregar"})})]},e._id)}))}(c):Object(F.jsx)("div",{})})}function me(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"delivered"===e.status}));r(n)}})),function(){e=!0}}),[]);return Object(F.jsx)("div",{className:"waiterOrdersCardContainer",children:n?function(e){return e.map((function(e){return Object(F.jsxs)("div",{className:"ordersCard",children:[Object(F.jsx)("p",{className:"orderStatus",children:"delivered"===e.status?"Entregada":"Error"}),Object(F.jsx)("p",{className:"orderClient",children:e.client}),Object(F.jsx)("div",{children:de(e.products)}),Object(F.jsxs)("div",{className:"orderCardButtonContainer",children:["pending"===e.status?Object(F.jsx)("button",{className:"chef-orderReady",type:"button",onClick:function(){se(e,"orders",e._id,"canceled",ie.get("token"))},children:"Cancelar"}):Object(F.jsx)("div",{}),"delivering"===e.status?Object(F.jsx)("button",{type:"button",onClick:function(){se(e,"orders",e._id,"delivered",ie.get("token"))},children:"Entregar"}):Object(F.jsx)("div",{})]})]},e._id)}))}(n):Object(F.jsx)("div",{})})}function Oe(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=!1;return C("orders",ie.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"canceled"===e.status}));r(n)}})),function(){e=!0}}),[]);return Object(F.jsx)("div",{className:"waiterOrdersCardContainer",children:n?function(e){return e.map((function(e){return Object(F.jsxs)("div",{className:"ordersCard",children:[Object(F.jsx)("p",{className:"orderStatus",children:"canceled"===e.status?"Cancelada":"Error"}),Object(F.jsx)("p",{className:"orderClient",children:e.client}),Object(F.jsx)("div",{children:de(e.products)}),Object(F.jsx)("div",{className:"orderCardButtonContainer",children:"delivering"===e.status?Object(F.jsx)("button",{type:"button",onClick:function(){se(e,"orders",e._id,"delivered",ie.get("token"))},children:"Entregar"}):Object(F.jsx)("div",{})})]},e._id)}))}(n):Object(F.jsx)("div",{})})}var he=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)("allOrders"),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(oe),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(le),m=Object(i.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(le),p=Object(i.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(le),N=Object(i.a)(g,2),C=N[0],w=N[1],y=Object(a.useState)(le),k=Object(i.a)(y,2),S=k[0],M=k[1],L=Object(ae.a)(ne.a)(u),P=Object(ae.a)(ne.a)(O),E=Object(ae.a)(ne.a)(x),_=Object(ae.a)(ne.a)(C),I=Object(ae.a)(ne.a)(S);return Object(F.jsxs)("div",{"aria-label":"orders",className:"waiterNewOrderContainer",children:[Object(F.jsxs)("div",{className:"waiterHeaderAllOrder",children:[Object(F.jsx)(L,{onClick:function(){o("allOrders"),j(oe),h(le),v(le),w(le),M(le)},children:"Todas"}),Object(F.jsx)(P,{onClick:function(){o("pending"),j(le),h(oe),v(le),w(le),M(le)},children:"Pendientes"}),Object(F.jsx)(E,{onClick:function(){o("delivering"),j(le),h(le),v(oe),w(le),M(le)},children:"Listas"}),Object(F.jsx)(_,{onClick:function(){o("delivered"),j(le),h(le),v(le),w(oe),M(le)},children:"Entregadas"}),Object(F.jsx)(I,{onClick:function(){o("canceled"),j(le),h(le),v(le),w(le),M(oe)},children:"Canceladas"})]}),Object(F.jsx)("div",{className:"waiterAllOrdersBody",children:"allOrders"===s?Object(F.jsx)(ue,{setLoading:t,setModalMessage:n}):"pending"===s?Object(F.jsx)(je,{setLoading:t,setModalMessage:n}):"delivering"===s?Object(F.jsx)(be,{setLoading:t,setModalMessage:n}):"delivered"===s?Object(F.jsx)(me,{setLoading:t}):"canceled"===s?Object(F.jsx)(Oe,{setLoading:t}):Object(F.jsx)("div",{})})]})};var fe=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)(null),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(null),d=Object(i.a)(l,2),b=d[0],m=d[1],O=Object(a.useState)(null),h=Object(i.a)(O,2),f=h[0],p=h[1],x=Object(a.useState)(null),v=Object(i.a)(x,2),g=v[0],N=v[1],C=Object(a.useState)({name:""}),w=Object(i.a)(C,2),y=w[0],k=w[1],S={email:s,password:b,roles:y},M=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),S.email&&S.password&&S.roles){e.next=3;break}return e.abrupt("return",n({title:"Debe ingresar todos los datos"}));case 3:return e.next=5,L(S,t,n,"users");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)("div",{"aria-label":"newUser",className:"container",children:Object(F.jsxs)("div",{className:"optionContent",children:[Object(F.jsxs)("div",{className:"optionContentHeader",children:[Object(F.jsx)("button",{type:"button",onClick:function(){window.location.href="#/admin/users"},className:"back",children:"Atr\xe1s"}),Object(F.jsx)("h2",{children:" Nuevo Usuario "})]}),Object(F.jsxs)("form",{onSubmit:M,className:"formUser",children:[Object(F.jsxs)("div",{className:"formCnt",children:[Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"email",children:"Correo:"}),Object(F.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:"email",name:"email",id:"email",onChange:function(e){return t=e.target.value,void(!0===/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)?(p(""),o(t)):p("La estructura es example@correo"));var t}}),Object(F.jsx)("p",{className:"goNewEmail formValidation",children:f})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"password",children:"Contrase\xf1a:"}),Object(F.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:"contrase\xf1a",name:"password",id:"password",onChange:function(e){return t=e.target.value,void(!0===/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/.test(t)?(N(""),m(t)):N("La contrase\xf1a debe contener mayusculas, numeros y caracteres especiales"));var t}}),Object(F.jsx)("p",{className:"goNewPassword formValidation",children:g})]}),Object(F.jsx)("label",{htmlFor:"option",className:"form-label",children:"Rol:"}),Object(F.jsxs)("div",{className:"option-group",children:[Object(F.jsxs)("div",{className:"option-section",children:[Object(F.jsx)("input",{type:"radio",name:"option",id:"adminOpt",onChange:function(e){return e.target.checked?k({name:"administradora"}):k({name:""})}}),Object(F.jsx)("label",{htmlFor:"adminOpt",className:"form-options",children:"Administradora"})]}),Object(F.jsxs)("div",{className:"option-section",children:[Object(F.jsx)("input",{type:"radio",className:"form-options",name:"opt",id:"waiterOpt",onChange:function(e){return e.target.checked?k({name:"mesera"}):k({name:""})}}),Object(F.jsx)("label",{htmlFor:"waiterOpt",className:"form-options",children:"Mesera"})]}),Object(F.jsxs)("div",{className:"option-section",children:[Object(F.jsx)("input",{type:"radio",className:"form-options",name:"opt",id:"chefOpt",onChange:function(e){return e.target.checked?k({name:"cocinera"}):k({name:""})}}),Object(F.jsx)("label",{htmlFor:"chefOpt",className:"form-options",children:"Cocinera"})]})]})]}),Object(F.jsx)("button",{type:"submit",className:"userSubmit",children:"Guardar"})]})]})})},pe=new x.a,xe=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)(null),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(null),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(null),m=Object(i.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(null),p=Object(i.a)(f,2),x=p[0],v=p[1];Object(a.useEffect)((function(){pe.get("userLogged")||(window.location.href="#/")}),[]);var g=pe.get("user"),N=g._id,C=g.email,w=g.roles,y=g.password,k=Object(a.useState)(w),S=Object(i.a)(k,2),M=S[0],L=S[1],P={email:s||C,password:u||y,roles:M||w};return Object(F.jsx)("div",{"aria-label":"editUser",className:"container",children:Object(F.jsxs)("div",{className:"optionContent",children:[Object(F.jsxs)("div",{className:"optionContentHeader",children:[Object(F.jsx)("button",{type:"button",onClick:function(){window.location.href="#/admin/users"},className:"back",children:"Atr\xe1s"}),Object(F.jsx)("h2",{children:" Editar Usuario "})]}),Object(F.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=pe.get("token");!function(e,t,n,a,r,c){t(!0),re("https://bq-lab-2021.herokuapp.com/".concat(a,"/").concat(r),{headers:{Authorization:"Bearer ".concat(c)},body:e}).then((function(e){if(t(!1),e._id)return n({title:"!Usuario actualizado exitosamente!"}),e;n({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))}(P,t,n,"users",N,a)},className:"formUser",children:[Object(F.jsxs)("div",{className:"formCnt",children:[Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"email",children:"Correo:"}),Object(F.jsx)("input",{type:"email",className:"form-input newProductForm",placeholder:C,name:"email",id:"email",onChange:function(e){return t=e.target.value,void(!0===/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)?(h(""),o(t)):h("La estructura es example@correo"));var t}}),Object(F.jsx)("p",{className:"goNewEmail formValidation",children:O})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"password",children:"Contrase\xf1a:"}),Object(F.jsx)("input",{type:"password",className:"form-input newProductForm",name:"password",id:"password",onChange:function(e){return t=e.target.value,void(!0===/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!.@$ %^&*-]).{8,}$/.test(t)?(v(""),j(t)):v("La contrase\xf1a debe contener mayusculas, numeros y caracteres especiales"));var t}}),Object(F.jsx)("p",{className:"goNewPassword formValidation",children:x}),Object(F.jsx)("br",{})]}),Object(F.jsx)("span",{htmlFor:"option",className:"form-label",children:"Rol:"}),Object(F.jsxs)("div",{className:"option-group",children:[Object(F.jsxs)("div",{className:"option-section",children:[Object(F.jsx)("input",{type:"radio",className:"form-opt",name:"opt",id:"adminOpt",onChange:function(e){return e.target.checked?L({admin:!0,name:"administradora"}):L({name:""})}}),Object(F.jsx)("label",{htmlFor:"adminOpt",className:"form-options",children:"Administradora"})]}),Object(F.jsxs)("div",{className:"option-section",children:[Object(F.jsx)("input",{type:"radio",className:"form-options",name:"opt",id:"waiterOpt",onChange:function(e){return e.target.checked?L({admin:!1,name:"mesera"}):L({name:""})}}),Object(F.jsx)("label",{htmlFor:"waiterOpt",className:"form-options",children:"Mesera"})]}),Object(F.jsxs)("div",{className:"option-section",children:[Object(F.jsx)("input",{type:"radio",className:"form-options",name:"opt",id:"chefOpt",onChange:function(e){return e.target.checked?L({admin:!1,name:"cocinera"}):L({name:""})}}),Object(F.jsx)("label",{className:"form-options",htmlFor:"chefOpt",children:"Cocinera"})]})]})]}),Object(F.jsx)("button",{type:"submit",className:"userSubmit",children:"Guardar"})]})]})})},ve=function(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)({name:"",type:"",price:"",image:""}),c=Object(i.a)(r,2),s=c[0],o=c[1],l=function(e){o(Object(m.a)(Object(m.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))},d=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s.name&&s.type&&s.price){e.next=3;break}return e.abrupt("return",n({body:"Los campos nombre, men\xfa y precio son obligatorios."}));case 3:return e.next=5,M(s,t,n,"products");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)("div",{"aria-label":"newProduct",className:"container",children:Object(F.jsxs)("div",{className:"optionContent",children:[Object(F.jsxs)("div",{className:"optionContentHeader",children:[Object(F.jsx)("button",{type:"button",onClick:function(){window.location.href="#/admin/products"},className:"back",children:"Atr\xe1s"}),Object(F.jsx)("h2",{children:" Nuevo Producto "})]}),Object(F.jsxs)("form",{onSubmit:d,className:"formUser",children:[Object(F.jsxs)("div",{className:"formCnt",children:[Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"name",children:"Nombre:"}),Object(F.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:"Nombre de producto",name:"name",id:"name",onChange:l})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"menu",children:"Menu:"}),Object(F.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:"Desayuno o Diario",name:"type",id:"menu",onChange:l})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"description",children:"Precio:"}),Object(F.jsx)("input",{type:"number",className:"form-input newProductForm",placeholder:"S/",name:"price",id:"price",onChange:l})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"urlImage",children:"Agregar URL de Imagen"}),Object(F.jsx)("input",{type:"text",placeholder:"https://imagen.com",className:"form-input newProductForm",name:"image",id:"urlImage",onChange:l})]})]}),Object(F.jsx)("button",{type:"submit",className:"userSubmit",children:"Guardar"})]})]})})},ge=new x.a,Ne=function(e){var t=e.setLoading,n=e.setModalMessage,r=ge.get("product"),c=ge.get("product"),s=c._id,o=c.name,l=c.type,d=c.price,u=c.image,j=Object(a.useState)(r),O=Object(i.a)(j,2),h=O[0],f=O[1];Object(a.useEffect)((function(){ge.get("userLogged")||(window.location.href="#/")}),[]);var p=function(e){f(Object(m.a)(Object(m.a)({},h),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(F.jsx)("div",{"aria-label":"editProduct",className:"container",children:Object(F.jsxs)("div",{className:"optionContent",children:[Object(F.jsxs)("div",{className:"optionContentHeader",children:[Object(F.jsx)("button",{type:"button",onClick:function(){window.location.href="#/admin/products"},className:"back",children:"Atr\xe1s"}),Object(F.jsx)("h2",{children:" Editar Producto "})]}),Object(F.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!h)return n({title:"Debe ingresar al menos un campo"});var a=ge.get("token");!function(e,t,n,a,r,c){var s=e.name,i=e.price,o=e.type,l=e.image;t(!0),re("".concat(ce).concat(a,"/").concat(r),{headers:{Authorization:"Bearer ".concat(c)},body:{name:s,price:Number(i),type:o,image:l}}).then((function(e){return t(!1),e._id?(n({title:"\xa1Producto actualizado exitosamente!"}),e):n({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))}(h,t,n,"products",s,a)},children:[Object(F.jsxs)("div",{className:"formCnt",children:[Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"name",children:"Nombre:"}),Object(F.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:o,name:"name",id:"name",onChange:p})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"type",children:"Men\xfa:"}),Object(F.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:l,name:"type",id:"type",onChange:p})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"price",children:"Precio:"}),Object(F.jsx)("input",{type:"text",className:"form-input newProductForm",placeholder:d,name:"price",id:"price",onChange:p})]}),Object(F.jsxs)("div",{className:"form-section",children:[Object(F.jsx)("label",{className:"form-label",htmlFor:"urlImage",children:"Cambiar Imagen"}),Object(F.jsx)("input",{placeholder:u,type:"text",className:"form-input newProductForm",name:"image",id:"urlImage",onChange:p})]})]}),Object(F.jsx)("button",{type:"submit",className:"userSubmit",children:"Guardar"})]})]})})},Ce=new x.a,we=function(e){var t=e.setLoading,n=e.setModalMessage,r=Ce.get("userLogged");return Object(a.useEffect)((function(){r||(window.location.href="#/")}),[]),Object(F.jsxs)(o.a,{"aria-label":"admin",children:[r.roles.admin?Object(F.jsxs)("div",{"aria-label":"admin",className:"adminContainer",children:[Object(F.jsxs)("div",{className:"navContainer",children:[Object(F.jsx)("p",{"aria-label":"navlogo",className:"navlogo",children:"BQ"}),Object(F.jsxs)("nav",{className:"nav",children:[Object(F.jsx)(o.c,{to:"/admin/users",activeClassName:"active",className:"navlink",children:"Usuarios"}),Object(F.jsx)("div",{className:"navLine"}),Object(F.jsx)(o.c,{to:"/admin/products",activeClassName:"active",className:"navlink",children:"Productos"}),Object(F.jsx)("div",{className:"navLine"}),Object(F.jsx)(o.c,{to:"/admin/allorders",activeClassName:"active",className:"navlink",children:"\xd3rdenes"})]}),Object(F.jsx)(D.a,{fontSize:"medium",onClick:function(){window.location.href="#/meserx/neworder"}}),Object(F.jsx)(q.a,{fontSize:"medium",onClick:function(){window.location.href="#/chef/pendingorders"}}),Object(F.jsx)(U.a,{"aria-label":"exitIcon",fontSize:"medium",onClick:function(){return E()}})]}),Object(F.jsxs)("div",{className:"adminBodyContainer",children:[Object(F.jsxs)("div",{className:"adminCard",children:[Object(F.jsx)("h1",{className:"adminH1",children:"Administradorx"}),Object(F.jsxs)("div",{className:"userData",children:[Object(F.jsx)(R.a,{sx:{bgcolor:H.a[200]},alt:"avatar",className:"userPhoto"}),Object(F.jsx)("p",{children:Object(F.jsx)("b",{children:r.roles.name})}),Object(F.jsx)("p",{children:r.email})]})]}),Object(F.jsxs)(l.c,{children:[Object(F.jsx)(l.a,{exact:!0,path:"/admin/users",component:function(){return Object(F.jsx)(J,{setLoading:t,setModalMessage:n})}}),Object(F.jsx)(l.a,{path:"/admin/users/newuser",component:function(){return Object(F.jsx)(fe,{setLoading:t,setModalMessage:n})}}),Object(F.jsx)(l.a,{path:"/admin/users/edituser",component:function(){return Object(F.jsx)(xe,{setLoading:t,setModalMessage:n})}}),Object(F.jsx)(l.a,{exact:!0,path:"/admin/products",component:function(){return Object(F.jsx)(te,{setLoading:t,setModalMessage:n})}}),Object(F.jsx)(l.a,{path:"/admin/products/newproduct",component:function(){return Object(F.jsx)(ve,{setLoading:t,setModalMessage:n})}}),Object(F.jsx)(l.a,{path:"/admin/products/editproduct",component:function(){return Object(F.jsx)(Ne,{setLoading:t,setModalMessage:n})}}),Object(F.jsx)(l.a,{exact:!0,path:"/admin/allorders",component:function(){return Object(F.jsx)(he,{setLoading:t,setModalMessage:n})}})]})]})]}):_(),";"]})};function ye(){return Object(F.jsx)("div",{"aria-label":"notFound",children:Object(F.jsx)("h1",{children:"Error 404: P\xe1gina no encontrada"})})}var ke=n(62),Se=n.n(ke),Me=n(12),Le=n(61),Fe=n.n(Le),Pe=(n(68),new x.a),Ee=function(e){var t=e.productsOrder,n=e.setProductsOrder,r=e.setQtyChange,c=e.setSum,s=e.sum,o=Object(a.useState)(null),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),O=b[0],h=b[1];Object(a.useEffect)((function(){var e=!1;return C("products",Pe.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"desayuno"===e.type.toLowerCase()}));u(n)}})),function(){e=!0}}),[]);var f=function(e){return e.map((function(e){return Object(F.jsxs)("div",{className:"waiterProductCard",onClick:function(){return function(e){c(e.price+s);var a=t.map((function(e){return e._id}));return-1!==a.indexOf(e._id)?(t[a.indexOf(e._id)].qty+=1,r(!0),n(t)):n([].concat(Object(Me.a)(t),[Object(m.a)(Object(m.a)({},e),{},{qty:1})]))}(e)},children:[Object(F.jsxs)("div",{className:"waiterProductCardText",children:[Object(F.jsx)("h3",{children:e.name}),Object(F.jsx)("span",{children:e.price})]}),Object(F.jsx)("div",{className:"waiterProductCardImage",children:Object(F.jsx)("img",{className:"waiterImgCard",src:e.image,alt:"food"})})]},e._id)}))},p=Object(ae.a)("div")((function(e){return{padding:e.theme.spacing(0,2),position:"absolute",height:"100%",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff"}}));return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"searchContent",children:[Object(F.jsx)(p,{children:Object(F.jsx)(Fe.a,{})}),Object(F.jsx)("div",{className:"waiterSearchInputContent",children:Object(F.jsx)("input",{className:"waiterSearchInput",autoComplete:"string",placeholder:"Buscar\u2026","aria-label":"search",value:O,onChange:function(e){h(e.target.value.toLowerCase())}})})]}),Object(F.jsx)("div",{className:"waiterProductsContainer",children:d?function(e){if(O){var t=e.filter((function(e){return e.name.toLowerCase().includes(O)}));return f(t)}return f(e)}(d):Object(F.jsx)("div",{})})]})},_e=new x.a,Ie=function(e){var t=e.productsOrder,n=e.setProductsOrder,r=e.setQtyChange,c=e.setSum,s=e.sum,o=Object(a.useState)(null),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(null),b=Object(i.a)(j,2),O=b[0],h=b[1];Object(a.useEffect)((function(){var e=!1;return C("products",_e.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"diario"===e.type.toLowerCase()}));u(n)}})),function(){e=!0}}),[]);var f=function(e){return e.map((function(e){return Object(F.jsxs)("div",{className:"waiterProductCard",onClick:function(){return function(e){c(e.price+s);var a=t.map((function(e){return e._id}));return-1!==a.indexOf(e._id)?(t[a.indexOf(e._id)].qty+=1,r(!0),n(t)):n([].concat(Object(Me.a)(t),[Object(m.a)(Object(m.a)({},e),{},{qty:1})]))}(e)},children:[Object(F.jsxs)("div",{className:"waiterProductCardText",children:[Object(F.jsx)("h3",{children:e.name}),Object(F.jsx)("span",{children:e.price})]}),Object(F.jsx)("div",{className:"waiterProductCardImage",children:Object(F.jsx)("img",{className:"waiterImgCard",src:e.image,alt:"food"})})]},e._id)}))},p=Object(ae.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff"}}));return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"searchContent",children:[Object(F.jsx)(p,{children:Object(F.jsx)(Fe.a,{})}),Object(F.jsx)("div",{className:"waiterSearchInputContent",children:Object(F.jsx)("input",{className:"waiterSearchInput",autoComplete:"string",placeholder:"Buscar\u2026","aria-label":"search",value:O,onChange:function(e){h(e.target.value.toLowerCase())}})})]}),Object(F.jsx)("div",{className:"waiterProductsContainer",children:d?function(e){if(O){var t=e.filter((function(e){return e.name.toLowerCase().includes(O)}));return f(t)}return f(e)}(d):Object(F.jsx)("div",{})})]})},Ae=new x.a,Be={fontFamily:"Cormorant Upright",textTransform:"none",fontSize:16,fontWeight:600,lineHeight:1.75,width:130,backgroundColor:"#DCCA87",border:"1px solid #DCCA87",color:"#0C0B08",borderRadius:0,"&:hover":{backgroundColor:"#DCCA87",color:"#0C0B08"}},Ue={fontFamily:"Cormorant Upright",textTransform:"none",fontSize:16,width:130,backgroundColor:"#0C0B08",color:"#FFFFFF",border:"1px solid #DCCA87",borderRadius:0,"&:hover":{backgroundColor:"#DCCA87",border:"1px solid #DCCA87",color:"#0C0B08"}};function ze(e){var t=e.setLoading,n=e.setModalMessage,r=Object(a.useState)("breakfast"),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)([]),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(""),m=Object(i.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(null),p=Object(i.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(0),N=Object(i.a)(g,2),C=N[0],S=N[1],M=Object(a.useState)(Be),L=Object(i.a)(M,2),P=L[0],E=L[1],_=Object(a.useState)(Ue),I=Object(i.a)(_,2),A=I[0],B=I[1],U=Object(ae.a)(ne.a)(P),z=Object(ae.a)(ne.a)(A);Object(a.useEffect)((function(){Ae.get("userLogged")||(window.location.href="#/")}),[]);var D=function(){var e=u.map((function(e){return{productId:e._id,qty:e.qty}}));return function(e,t,n,a,r,c){a(!0);var s=k.get("token");w("".concat(y).concat(c),{headers:{Authorization:"Bearer ".concat(s)},body:{userId:n,client:e,products:t}}).then((function(e){return a(!1),e.err&&400===e.status?r({title:"!Ups! no puede crear una orden vac\xeda"}):e._id?r({title:"Orden creada exitosamente"}):r({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))}(O,e,Ae.get("userLogged")._id,t,n,"orders")};return Object(F.jsxs)("div",{className:"waiterNewOrderContainer",children:[Object(F.jsxs)("section",{className:"waiterHeader",children:[Object(F.jsxs)("div",{className:"waiterHeaderSection1",children:[Object(F.jsx)(U,{onClick:function(){o("breakfast"),E(Be),B(Ue)},children:"Desayuno"}),Object(F.jsx)(z,{onClick:function(){o("diary"),E(Ue),B(Be)},children:"Diario"})]}),Object(F.jsx)("div",{className:"waiterHeaderSection2",children:Object(F.jsx)("input",{className:"waiterInput",onChange:function(e){return h(e.target.value)},placeholder:"Nombre Cliente"})})]}),Object(F.jsxs)("section",{className:"waiterBody",children:[Object(F.jsx)("div",{className:"waiterProductsSection",children:"breakfast"===s?Object(F.jsx)(Ee,{setLoading:t,productsOrder:u,setProductsOrder:j,setQtyChange:v,setSum:S,sum:C}):Object(F.jsx)(Ie,{setLoading:t,productsOrder:u,setProductsOrder:j,setQtyChange:v,setSum:S,sum:C})}),Object(F.jsxs)("div",{className:"waiterOrderSection",children:[Object(F.jsx)("h3",{className:"waiterOrderTitle",children:"Orden"}),Object(F.jsx)("div",{className:"waiterOrderTableContainer",children:Object(F.jsxs)("table",{className:"waiterOrderTable",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Cant."}),Object(F.jsx)("th",{children:"Producto"}),Object(F.jsx)("th",{children:"Precio Unit."})]})}),Object(F.jsxs)("tbody",{children:[u!==[]||x?u.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"golden",children:e.qty}),Object(F.jsx)("td",{className:"golden",children:e.name}),Object(F.jsx)("td",{children:"S/. ".concat(e.price)}),Object(F.jsx)("td",{children:Object(F.jsx)(K.a,{fontSize:"small",onClick:function(){return function(e){S(C-Number(e.price)*e.qty);var t=u.filter((function(t){return t._id!==e._id}));j(Object(Me.a)(t))}(e)}})})]},e._id)})):Object(F.jsx)("div",{}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"golden",children:"Total "}),Object(F.jsx)("td",{}),Object(F.jsx)("td",{className:"golden",children:"S/.".concat(C)})]})]})]})}),!!x&&v(null),Object(F.jsx)("div",{className:"buttonContainer",children:Object(F.jsx)(U,{onClick:function(){return D()},children:"Guardar"})})]})]})]})}var De=new x.a,Te=function(e){var t=e.setLoading,n=e.setModalMessage;return Object(F.jsx)(o.a,{children:"mesera"===De.get("userLogged").roles.name||De.get("userLogged").roles.admin?Object(F.jsxs)("div",{"aria-label":"waiter",className:"waiterContainer",children:[Object(F.jsxs)("div",{className:"navContainer",children:[Object(F.jsx)("p",{role:"banner",className:"navlogo",children:"BQ"}),Object(F.jsxs)("nav",{className:"nav",children:[Object(F.jsx)(o.c,{className:"navlink",to:"/meserx/neworder",activeClassName:"active","aria-label":"new-order",children:"Generar Orden"}),Object(F.jsx)("div",{className:"navLine"}),Object(F.jsx)(o.c,{className:"navlink",to:"/meserx/allorders",activeClassName:"active","aria-label":"all-order",children:"Ver \xd3rdenes"})]}),De.get("userLogged").roles.admin?Object(F.jsx)(Se.a,{fontSize:"medium",onClick:function(){window.location.href="#/admin/users"}}):Object(F.jsx)("div",{}),Object(F.jsx)(U.a,{fontSize:"medium",onClick:function(){return E()},"aria-label":"logout"})]}),Object(F.jsxs)(l.c,{children:[Object(F.jsx)(l.a,{path:"/meserx/neworder",component:function(){return Object(F.jsx)(ze,{setLoading:t,setModalMessage:n})}}),Object(F.jsx)(l.a,{exact:!0,path:"/meserx/allorders",component:function(){return Object(F.jsx)(he,{setLoading:t,setModalMessage:n})}})]})]}):_()})},qe=(n(69),new x.a);var Re=function(e){var t,n=e.setModalMessage,r=Object(a.useState)(null),c=Object(i.a)(r,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){var e=!1;return C("orders",qe.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"pending"===e.status}));o(n)}})),function(){e=!0}}),[]),Object(F.jsx)("div",{className:"chef-ordersContainer","aria-label":"chef-pending",children:s?(t=s,t.map((function(e){return Object(F.jsxs)("div",{className:"ordersCard",children:[Object(F.jsx)("p",{className:"orderClient",children:e.client}),Object(F.jsx)("div",{children:(t=e.products,t.map((function(e){return Object(F.jsxs)("div",{className:"chef-orderContent",children:[Object(F.jsx)("p",{className:"chef-item",children:e.productId&&e.productId.name}),Object(F.jsx)("p",{className:"chef-qty",children:e.qty})]})})))}),Object(F.jsx)("div",{className:"orderCardButtonContainer",children:Object(F.jsx)("button",{type:"button",className:"chef-orderReady",onClick:function(){se("orders",e._id,"delivering",n,"La orden est\xe1 lista para entregarse.",qe.get("token"))},children:"Listo"})})]},e._id);var t}))):Object(F.jsx)("div",{})})},He=new x.a;var $e=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=!1;return C("orders",He.get("token")).then((function(t){if(!e){var n=t.filter((function(e){return"delivering"===e.status}));r(n)}})),function(){e=!0}}),[]);var c,s=function(e){var t=e.dateProcessed,n=e.dateEntry,a=new Date(t).toString(),r=new Date(n).toString();if(a.slice(0,15)===r.slice(0,15)){return function(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),a=Math.floor(e/36e5%24);return a=a<10?"0".concat(a):a,n=n<10?"0".concat(n):n,t=t<10?"0".concat(t):t,"".concat(a," : ").concat(n," : ").concat(t)}(Math.abs(new Date(t)-new Date(n)))}return"Orden fuera de tiempo"};return Object(F.jsx)("div",{className:"chef-ordersContainer","aria-label":"chef-delivering",children:n?(c=n,c.map((function(e){return Object(F.jsxs)("div",{className:"ordersCard",children:[Object(F.jsx)("p",{className:"orderTimer",children:s(e)}),Object(F.jsx)("p",{className:"orderClient",children:e.client}),Object(F.jsx)("div",{children:(t=e.products,t.map((function(e){return Object(F.jsxs)("div",{className:"chef-orderContent",children:[Object(F.jsx)("p",{className:"chef-item",children:e.productId&&e.productId.name}),Object(F.jsx)("p",{className:"chef-qty",children:e.qty})]})})))})]},e._id);var t}))):Object(F.jsx)("div",{})})},Ge=new x.a,Qe=function(e){var t=e.setLoading,n=e.setModalMessage;return Object(F.jsx)(o.a,{children:"cocinera"===Ge.get("userLogged").roles.name||Ge.get("userLogged").roles.admin?Object(F.jsxs)("div",{"aria-label":"chef",className:"chefContainer",children:[Object(F.jsxs)("div",{className:"navContainer",children:[Object(F.jsx)("p",{role:"banner",className:"navlogo",children:"BQ"}),Object(F.jsxs)("nav",{className:"nav",children:[Object(F.jsx)(o.c,{to:"/chef/pendingorders",activeClassName:"active",className:"navlink","aria-label":"pending-link",children:"Ordenes Pendientes"}),Object(F.jsx)("div",{className:"navLine"}),Object(F.jsx)(o.c,{to:"/chef/deliveringorders",activeClassName:"active",className:"navlink","aria-label":"delivering-link",children:"Ordenes Listas"})]}),Ge.get("userLogged").roles.admin?Object(F.jsx)(Se.a,{fontSize:"medium",onClick:function(){window.location.href="#/admin/users"}}):Object(F.jsx)("div",{}),Object(F.jsx)(U.a,{fontSize:"medium",onClick:function(){return E()},"aria-label":"logout"})]}),Object(F.jsxs)(l.c,{children:[Object(F.jsx)(l.a,{exact:!0,path:"/chef/pendingorders",component:function(){return Object(F.jsx)(Re,{setLoading:t,setModalMessage:n})}}),Object(F.jsx)(l.a,{exact:!0,path:"/chef/deliveringorders",component:function(){return Object(F.jsx)($e,{setLoading:t,setModalMessage:n})}})]})]}):_()})},Ve=(n(106),function(){return Object(F.jsx)("div",{className:"loader-container",children:Object(F.jsxs)("div",{className:"lds-default",children:[Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{})]})})}),We=(n(107),v().del),Je=function(e,t,n,a,r){return e(!0),We("".concat("https://bq-lab-2021.herokuapp.com/").concat(n,"/").concat(a),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(n){if(e(!1),n._id)return t({body:"\xa1Eliminado!"}),n;t({body:"Upss!!! hubo un error en el sistema, por favor int\xe9ntelo nuevamente."})}))},Ze=new x.a,Ke=function(e){var t=e.setLoading,n=e.modalMessage,a=e.setModalMessage,r=n.title,c=n.body,s=n.button,i=n.button2,o=n.id,l=n.path,d=function(){return a(null)},b=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(t,a,l,o,Ze.get("token"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(l,o,"canceled",a,"Orden cancelada",Ze.get("token"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsx)("article",{onClick:function(){return d()},className:"modal is-open",children:Object(F.jsxs)("div",{className:"modal-container",onClick:function(e){return e.stopPropagation()},children:[Object(F.jsx)("button",{type:"button",onClick:function(){return d()},className:"modal-close",children:"x"}),Object(F.jsx)("div",{className:"modal-header",children:r?Object(F.jsx)("h3",{children:r}):Object(F.jsx)("div",{})}),Object(F.jsx)("div",{className:"modal-body",children:c?Object(F.jsx)("p",{children:c}):Object(F.jsx)("div",{})}),Object(F.jsxs)("div",{className:"modal-footer",children:[Object(F.jsx)("button",{type:"button",className:"modal-cancel",onClick:function(){return d()},children:"Cerrar"}),s?Object(F.jsx)("button",{type:"button",className:"modal-remove",onClick:function(){return b()},children:s}):Object(F.jsx)("div",{}),i?Object(F.jsx)("button",{type:"button",className:"modal-update",onClick:function(){return m()},children:i}):Object(F.jsx)("div",{})]})]})})},Xe=(n(108),function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(i.a)(c,2),d=s[0],u=s[1];return Object(F.jsxs)(o.a,{children:[d&&Object(F.jsx)(Ve,{}),n&&Object(F.jsx)(Ke,{setLoading:u,modalMessage:n,setModalMessage:r}),Object(F.jsxs)(l.c,{children:[Object(F.jsx)(l.a,{exact:!0,path:"/",component:function(){return Object(F.jsx)(A,{setLoading:u,setModalMessage:r})}}),Object(F.jsx)(l.a,{path:"/admin",component:function(){return Object(F.jsx)(we,{setLoading:u,setModalMessage:r})}}),Object(F.jsx)(l.a,{path:"/meserx",component:function(){return Object(F.jsx)(Te,{setLoading:u,setModalMessage:r})}}),Object(F.jsx)(l.a,{path:"/chef",component:function(){return Object(F.jsx)(Qe,{setLoading:u,setModalMessage:r})}}),Object(F.jsx)(l.a,{path:"*",children:Object(F.jsx)(ye,{})})]})]})});s.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(Xe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.register("../sw.js",{scope:"/"}).then((function(e){return console.info("Registro de SW exitoso",e)})).catch((function(e){return console.warn("Error al tratar de registrar el sw",e)}))},39:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},93:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.915532ad.chunk.js.map